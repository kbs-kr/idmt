---
생성일: 25/07/06 14:14
projects: 2025A 모듈형 스마트 유무선 온습도 센서
tags: []
dateModified: 25/07/06 19:38
수정일: 2025/07/16 11:18
---

# 모듈형 스마트 유무선 온습도 센서 개발 사양서 (Version 1.40)

![[01. Projects/2025A 복합 환경 센서(SEN66) 개발 사양서/2025A 모듈형 스마트 유무선 온습도 센서/attachments/모듈형 스마트 유무선 온습도 센서 개발 사양서 (Version 1.40)_attch/lora_온습도계 1.png]]



![[attachments/모듈형 스마트 유무선 온습도 센서 개발 사양서 (Version 1.40)_attch/모듈형 스마트 유무선 온습도 센서 개발 사양서 (Version 1.40)-Pasted image 20250528110159.png|500]]


![[attachments/모듈형 스마트 유무선 온습도 센서 개발 사양서 (Version 1.40)_attch/모듈형 스마트 유무선 온습도 센서 개발 사양서 (Version 1.40)-Pasted image 20250528110237.png|500]]

## 1. 개요

### 1.1. 제품명
* **모듈형 스마트 Zigbee/RS-485 온습도 센서**
* 제품 코드 (가칭): DMT-TH43M

### 1.2. 문서 정보
* **문서 버전:** `1.40`
* **작성일:** `2025-05-12` (최초 버전 1.0 작성일 기준)
* **dateModified025-05-22` (본 버전 1.40 dateModified)
* **작성 부서/담당자:** `[개발팀 / 홍길동]`
* **승인자:** `[프로젝트 책임자 이름]`

### 1.3. 제품 목적
본 제품("모듈형 스마트 Zigbee/RS-485 온습도 센서")은 다양한 산업 환경, 스마트 빌딩, 농업, 연구 시설 등, 특히 **데이터센터의 정밀 환경 모니터링**에 최적화된 솔루션을 제공하는 것을 목적으로 한다. 핵심적인 **'센서 스틱'**과 이를 장착하여 확장 기능을 제공하는 **'통신팩'**의 **USB-A 타입 분리/결합 구조**를 통해 사용 편의성 및 센서 교체 용이성을 높인다. 센서 스틱은 향후 다양한 센서 IC에 따른 시리즈화가 가능하도록 설계한다. 통신팩은 **KC인증 Digi Xbee3 Pro Zigbee 3.0 모듈**을 이용한 무선 통신 및 RS-485 유선 통신 기능을 제공하며, 사용자는 펌웨어 설정을 통해 RS-485 회로의 전원을 수동으로 ON/OFF 할 수 있다 (출고 시 OFF 기본). 주 제어는 **STM32G070CBT6** MCU가 담당한다. 전원은 ER14505 배터리 또는 USB Type-C (5Vdc) 및 **8P 터미널 블록**을 통한 외부 DC 전원(24Vdc)을 유연하게 사용할 수 있도록 지원하며, **좌측면의 물리적 스위치**로 전원 및 통신 방식을 선택할 수 있다.

### 1.4. 주요 특징 요약
* 고정밀 Sensirion SHT43 온습도 센서를 탑재한 **센서 모듈**을 사용하고 독립 MCU를 내장하여 자체 데이터 처리가 가능한 교체형 **"센서 스틱"**
    * 센서 스틱 규격: 가로 15mm, 세로 7mm, 높이 50mm (스틱형)
    * **데이터센터 FWU(Fan Wall Unit) 환경 고려:** 와류 방지 및 정확한 측정 위한 이중 케이스 통풍구 구조
* **USB-A 포트를 통한 센서 스틱과 통신팩 간 UART 통신 기반 결합/교체**
* **통신팩 기능:**
    * **주 MCU (STM32G070CBT6)의 통합 시스템 제어 및 저전력 관리 우선권**
    * 저전력 **Zigbee 3.0** 무선 통신 지원 (**KC인증 Digi Xbee3 Pro 모듈**)
    * 산업 표준 RS-485 유선 통신 지원 (Modbus RTU, **절연형 TI ISOW1432DFMR**, 종단저항 선택 가능)
        * 펌웨어에서 RS-485 회로 전원 수동 ON/OFF 제어 가능 (출고 시 OFF 설정)
    * **유연한 전원 시스템:** ER14505 배터리(교체 용이), USB-C(5Vdc), **8P 터미널 블록(24Vdc)** 외부 전원, **좌측면 전원 선택 스위치 (24V/OFF/5V)**
    * **독립적인 프로토콜 중계기/게이트웨이 기능:** RS-485 ↔ Zigbee 데이터 변환 및 중계.
    * 저전력 고해상도 1.54인치 흑백(4 그레이스케일) E-ink 디스플레이 (상세 UI/UX 정의).
    * **제품 전면 4키(좌, 우, 상, 하) 사용자 인터페이스 및 특수 기능 조합키 지원 (좌 키: Mode 기능, 좌+하: 리부팅, 페이지1에서 좌+우: 디버깅 모드 진입).**
    * **좌측면 물리적 통신 방식 선택 스위치 (2P, 무선/유선).**
    * **좌측면 디버깅 포트.**
    * **하드웨어 리셋 버튼 제공.**
* 통신팩과 센서 스틱 분리하여 **별도 인증 진행** 및 센서 스틱의 시리즈 확장 가능성
* **간편한 설치:** 전용 마그네틱 마운트 시스템 적용
* **원격 설정 지원:** 서버를 통한 주요 파라미터 원격 구성 가능 (Zigbee/RS-485 경유)

### 1.5. 제품 주요 스펙 요약 (KC 인증 적합성 고려)

| 구분                         | 항목                        | 주요 사양 (목표)                                                                                                | 비고                                                                     |
| :--------------------------- | :-------------------------- | :-------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------- |
| **공통/기본** | 제품명                      | 모듈형 스마트 Zigbee/RS-485 온습도 센서 (제품 코드: (가칭)DMT-TH43M)                                                    |                                                                          |
|                              | 주요 기능                   | 온습도 측정(센서스틱), 모듈형, Zigbee/RS-485 통신(통신팩), E-ink, 4키 UI, 통신팩은 RS-485-Zigbee 게이트웨이 기능 지원, 원격 설정 |                                                                          |
|                              | **MCU (통신팩)** | **STM32G070CBT6 (또는 동급)** | 주 제어 및 저전력 관리                                                      |
| **측정 성능 (SHT43 센서 스틱 기준)** | 온도 센서                   | Sensirion SHT43 기반 (모듈 형태)                                                                             |                                                                          |
|                              | 온도 측정 범위              | -20 °C ~ +70 °C (제품 동작 보증 범위)                                                                               | E-ink 동작 온도 -25~50°C                                                 |
|                              | 온도 정확도                 | ±0.2 °C (Typical @ 25°C)                                                                                      |                                                                          |
|                              | 습도 센서                   | Sensirion SHT43 기반 (모듈 형태)                                                                             |                                                                          |
|                              | 습도 측정 범위              | 0 %RH ~ 100 %RH                                                                                                 |                                                                          |
|                              | 습도 정확도                 | ±1.8 %RH (Typical @ 25°C, 20-80%RH)                                                                             |                                                                          |
| **통신 사양 (통신팩)** | **무선 통신** | **KC인증 Digi Xbee3 Pro Zigbee 3.0 모듈 사용** |                                                                          |
|                              | - 주파수 대역               | **2.4 GHz ISM 대역** |                                                                          |
|                              | - 프로토콜                  | **Zigbee 3.0** |                                                                          |
|                              | - RF 출력 (최대)            | `[예: +8 dBm 또는 국내 전파법 규정 준수값 설정]`                                                                         |                                                                          |
|                              | - 안테나                    | `[예: 내장형 칩 안테나 또는 u.FL 커넥터 통한 외장 안테나]`                                                              |                                                                          |
|                              | **유선 통신** | RS-485 (Modbus RTU Slave / Gateway Mode, 종단저항 선택 가능)                                                      | **TI ISOW1432DFMR 절연형 트랜시버 사용** |
| **전원 사양 (통신팩)** | 배터리                      | ER14505 (AA, Li-SOCl2) 3.6V, 약 2400mAh, 1개                                                                    | 사용자 교체 용이                                                           |
|                              | **USB-C 입력** | **DC 5V** | 배터리 없이 시스템 구동 가능 (ER14505 충전 안 함)                             |
|                              | **터미널 블록 입력** | **DC 24V (예시, 또는 DC 9~36V 범위)** | 배터리 없이 시스템 구동 가능 (RS-485 단자와 통합)                   |
|                              | **전원 선택 스위치** | **좌측면 2P3T 슬라이드 스위치 (24V / OFF / 5V)** |                                                                          |
| **디스플레이 (통신팩)** | 타입                        | 1.54인치 E-ink (GDEM0154D67WT 또는 동급)                                                                          | 200x200, 흑백(4 그레이스케일), SPI, SSD1681                               |
| **사용자 인터페이스 (통신팩)** | 버튼                        | **제품 전면 4키 (좌, 우, 상, 하)** |                                                                          |
|                              | 통신 선택 스위치            | **좌측면 2P 슬라이드 스위치 (무선/유선)** |                                                                          |
|                              | **하드웨어 리셋 버튼** | `[예: 매립형 택트 스위치]`                                                                                   | 오작동 방지 위해 공구 필요                                                  |
| **기구/환경** | 동작 온도                   | -25 °C ~ +50 °C (E-ink 디스플레이 기준)                                                                             |                                                                          |
|                              | 외함 보호 등급              | IP65 목표 (센서 스틱 + 통신팩 결합 시)                                                                              |                                                                          |
|                              | **디버깅 포트** | **좌측면 위치 (예: Micro USB 또는 UART 핀헤더)** |                                                                          |
| **인증 (목표)** | 국내 인증                   | 통신팩 및 센서 스틱(필요시) 개별 KC 인증 추진 (**Zigbee RF**, EMC)                                                   | 최종 제품은 결합 상태 기준 필요시 추가 확인                                  |

## 2. 하드웨어 사양

### 2.1. 시스템 아키텍처 (모듈형 구성)

#### 2.1.1. 센서 스틱 (Sensor Stick) - 교체형 지능형 측정 모듈 시리즈
* **기구적 사양:** (1.4절 주요 특징 요약 및 5.1절 외함 상세 참조)
* **MCU:** `[초저전력 MCU - SHT43 센서 모듈 제어, 온습도 데이터 처리, UART 통신 인터페이스(USB-A 커넥터 D+/D- 핀 활용) 처리 담당]`
* **탑재 센서 모듈:**
    * **기본:** **SHT43 탑재 센서 모듈 (예: [https://ko.aliexpress.com/item/1005008639205709.html](https://ko.aliexpress.com/item/1005008639205709.html) 참조 모델). 최종 센서 IC는 Sensirion SHT43.**
    * **확장 시리즈 (향후):** `[예: 고성능 온습도 센서 모듈(SHT45 등), CO2 센서 모듈(SCD4x 등), VOC 센서 모듈, 미세먼지 센서 모듈(PM2.5), 압력 센서 모듈 등 각각의 센서 모듈 명시]`
* **인터페이스:** **USB-A Male 플러그** (통신팩 결합용)
    * **핀맵:** `VBUS (전원 공급), GND, Stick_TX (D- 또는 D+ 중 하나), Stick_RX (D+ 또는 D- 중 나머지 하나). D+/D- 핀을 UART TX/RX 신호선으로 활용.`
    * **통신 프로토콜:** UART 기반 사용자 정의 직렬 프로토콜 또는 경량 표준 프로토콜.

#### 2.1.2. 통신팩 (Communication Pack) - 통신, 디스플레이, 전원 관리 허브
* **MCU (주 제어용):** **STM32G070CBT6** (또는 동급 저전력 MCU)가 주 제어 역할 수행. (E-ink, 센서 스틱 USB 호스트/인터페이스 제어, RS-485 통신, Zigbee 통신, 시스템 전체의 저전력 관리 및 통신 스케줄링 우선 제어권 보유)
* **센서 스틱 인터페이스:** **USB-A Female 포트** (센서 스틱 식별, UART 데이터 수신, 센서 스틱 전원 제어 및 저전력 모드 전환 신호 기능 포함)
* **무선 통신 모듈:** **KC인증 Digi Xbee3 Pro Zigbee 3.0 모듈**
* **유선 통신 인터페이스 (본체):**
    * RS-485 트랜시버: **절연형 TI ISOW1432DFMR** 또는 동급
    * **RS-485 종단 저항 처리: 120Ω 종단 저항을 사용자가 점퍼(Jumper) 또는 DIP 스위치를 통해 선택적으로 활성화/비활성화할 수 있도록 회로 설계.**
    * **RS-485 및 외부 DC 전원 입력용 8P 터미널 블록 (예: PIN 1: 외부 DC 입력 + (24V+), PIN 2: 외부 DC 입력 GND (G), PIN 3: RS-485 A (Data +), PIN 4: RS-485 B (Data -), PIN 5: RS-485 G (GND), PIN 6: RS-485 A1 (Data +) (옵션 또는 예비), PIN 7: RS-485 B1 (Data -) (옵션 또는 예비), PIN 8: RS-485 G (GND) (옵션 또는 예비))**
* **E-ink 디스플레이:** 1.54인치 GDEM0154D67WT (또는 동급)
* **전원부:**
    * **배터리:** ER14505 (AA 사이즈, Li-SOCl2) 3.6V, 약 2400mAh 1개 및 **사용자 교체가 용이한** 홀더/커버 구조.
    * **USB Type-C 포트:** **DC 5V 입력** (**시스템 직접 전원 공급용, ER14505 배터리 충전 기능 아님**).
    * **외부 DC 전원 입력 (터미널 블록 경유):** **DC 24V (또는 넓은 입력 범위 예: DC 9~36V)** 지원.
    * **전원 선택 스위치:** **좌측면 2P3T 슬라이드 스위치로 24V, OFF, 5V(USB-C) 전원 입력 수동 선택 가능.**
    * Li-SOCl2 배터리 안전 회로
    * 전원 관리 회로: 다양한 입력(배터리, USB-C 5V, 외부 DC 24V)을 받아 시스템 필요 전압으로 변환. Zigbee 모듈 및 RS-485 트랜시버 섹션 개별 전원 ON/OFF 제어 기능 포함.
    * 연료 게이지 IC (선택)
* **사용자 인터페이스:**
    * **버튼:** **제품 전면에 4키 (좌, 우, 상, 하) 적용.** 좌 키는 'Mode/Select' 기능, 우 키는 'Back/Cancel' 기능, 상/하 키는 메뉴 이동 및 값 변경용.
    * **통신 선택 스위치:** **좌측면 2P 슬라이드 스위치 (무선/유선 선택)**.
    * LED 표시등: `[예: 2~3개 (전원 상태(배터리/USB), 무선 통신 상태 - 연결/데이터 송수신)]`
    * 부저 (Buzzer): `[선택 사항, 알람 및 버튼 피드백용 소형 부저. BoM에 추가 필요]`
    * **하드웨어 리셋 버튼:** `[예: 매립형 택트 스위치, 오작동 방지를 위해 핀 등으로 조작]`
* **외부 통신 단자:** RS-485 및 외부 전원용 8P 터미널 블록, Zigbee 안테나 커넥터(필요시).
* **디버깅 포트:** 제품 좌측면에 위치 (예: Micro USB 또는 UART 핀헤더).

### 2.2. 인터페이스 상세 (커넥터, 핀맵 등)

* **센서 스틱 ↔ 통신팩 연결 인터페이스:** **USB-A 타입 (UART 통신 활용)**
    | USB-A 핀 | 신호명 (예시)          | I/O (통신팩 기준) | 설명                                                     |
    | :------- | :-------------------- | :-------------- | :------------------------------------------------------- |
    | 1        | `VBUS_SS_PWR`          | 출력              | 센서 스틱으로 전원 공급 (예: 3.3V)                             |
    | 2        | `CP_RX_SS_TX` (D- 사용 예) | 입력              | 통신팩(RX) <- 센서 스틱(TX) UART 데이터                      |
    | 3        | `CP_TX_SS_RX` (D+ 사용 예) | 출력              | 통신팩(TX) -> 센서 스틱(RX) UART 데이터/명령                  |
    | 4        | `GND`                  | -                 | 공통 접지                                                  |
    * `[참고: USB-A 커넥터의 D+, D- 핀을 UART 통신용으로 사용. 표준 USB 데이터 프로토콜이 아니므로 주의. 필요시 신호 레벨 및 보호회로 고려]`
* **통신팩 유선 인터페이스 (RS-485 + 외부전원 입력):**
    * **8P 터미널 블록 (예시):**
        * `PIN 1: 외부 DC 입력 + (24V+)`
        * `PIN 2: 외부 DC 입력 GND (G)`
        * `PIN 3: RS-485 A (Data +)`
        * `PIN 4: RS-485 B (Data -)`
        * `PIN 5: RS-485 G (GND)`
        * `PIN 6: RS-485 A1 (Data +) (옵션 또는 예비)`
        * `PIN 7: RS-485 B1 (Data -) (옵션 또는 예비)`
        * `PIN 8: RS-485 G (GND) (옵션 또는 예비)`
    * (또는 RS-485용 단자와 외부 DC 전원용 2P 단자를 별도로 구성 가능)
* **통신팩 USB-C 포트:** **DC 5V** 시스템 전원 공급, (필요시) 펌웨어 업데이트 또는 초기 설정용.
* **디버깅 포트 (좌측면):** `[예: Micro USB 또는 UART 핀헤더]` - 펌웨어 개발 및 디버깅용.
* **슬라이드 스위치 (좌측면):**
    * **2P 슬라이드 스위치:** 무선(Zigbee) / 유선(RS-485) 통신 방식 선택.
    * **2P3T 슬라이드 스위치:** 전원 입력 선택 (24V / OFF / 5V).

### 2.3. 전원부 상세
* **센서 스틱:** 통신팩의 USB-A 포트를 통해 전원 공급받음 (`[예: 3.3V 또는 5V]`)
* **통신팩:**
    * 주 전원 (배터리): ER14505 (AA 사이즈, Li-SOCl2) 3.6V, 약 2400mAh
    * 외부 전원 옵션 1: USB Type-C 포트를 통한 **DC 5V** 입력
    * 외부 전원 옵션 2: **8P 터미널 블록**을 통한 **DC 24V (또는 DC 9~36V 범위)** 입력
    * **전원 우선순위/선택 로직:** **좌측면 2P3T 슬라이드 스위치로 24V, OFF, 5V(USB-C) 전원 입력 수동 선택 가능.** 선택된 외부 전원 연결 시 해당 전원 우선 사용, 외부 전원 없을 시 배터리 사용 (OFF 위치에서는 배터리만 사용 또는 완전 차단 - 설계에 따라 결정).
    * 배터리 없을 시 외부 DC(USB 또는 터미널 블록) 전원으로 시스템 전체(센서 스틱 포함) 구동 가능.
* **소비 전력 목표:** (4.4절 배터리 수명 시뮬레이션 및 4.7절 동작 소비 전력 참조)

## 3. 펌웨어/소프트웨어 사양

### 3.1. 운영체제 (OS)
* 센서 스틱 MCU: `[Bare-metal 또는 초경량 RTOS]`
* 통신팩 주 MCU (**STM32G070CBT6**): `[RTOS (예: Zephyr OS, FreeRTOS, STM32Cube MCU Package) 또는 Bare-metal]`

### 3.2. 주요 기능 (모듈별 및 통합)

#### 3.2.1. 센서 스틱 펌웨어
* 탑재된 **SHT43 센서 모듈로부터** 온습도 관련 모든 데이터(필요시 교정값 적용, 필터링, 단위 변환, 노점 계산 등)를 독립적으로 측정 및 처리.
* 측정값 유효성 검사 및 오류 처리 로직 내장.
* **UART 통신 (USB-A 커넥터 D+/D- 핀 활용):**
    * 통신팩 MCU의 요청(Polling 또는 트리거 신호)에 따라 처리된 최종 데이터 및 센서 스틱 정보(타입, ID, 상태 등)를 정의된 직렬 패킷 형식으로 전송.
    * 통신팩으로부터 측정 주기, 슬립 모드 전환 등 제어 명령 수신 및 처리.
* **자체 초저전력 관리:** 평상시 초저전력 대기 상태 유지, 통신팩 MCU의 제어 하에 활성화되어 데이터 전송 후 즉시 슬립 모드 복귀.

#### 3.2.2. 통신팩 (Communication Pack) 펌웨어
* **센서 스틱 관리:**
    * USB-A 포트를 통해 연결된 센서 스틱 자동 감지, 타입 식별(PnP) 및 초기화.
    * **USB-A 포트의 UART 인터페이스를 통해** 식별된 센서 스틱에 맞는 데이터 수집 프로토콜 실행.
    * **센서 스틱의 저전력 모드를 효과적으로 제어 (예: USB VBUS 전원 제어 또는 통신 명령을 통한 슬립/웨이크업 신호).**
* **E-ink 디스플레이 화면 구성 및 사용자 인터페이스 (UI/UX):**
    * **화면 탐색 및 버튼 조작:** 제품 전면에 위치한 4개의 버튼(좌, 우, 상, 하)을 사용한다.
        * **좌 키 (Mode/Enter):** 짧게 누르면 현재 선택된 메뉴 항목 진입 또는 값 설정/저장. 길게 누르면 설정 모드 진입 (메인 화면에서) 또는 특정 기능 활성화. **(설정 모드 진입 기능 확인)**
        * **우 키 (Back/Cancel):** 이전 화면으로 돌아가기 또는 현재 작업 취소.
        * **상 키 (Up):** 메뉴 항목 위로 이동 또는 값 증가.
        * **하 키 (Down):** 메뉴 항목 아래로 이동 또는 값 감소.
        * **특수 조합 키:**
            * **(좌 + 하) 동시 누름 (2초 이상): 시스템 재부팅.**
            * **페이지 1 (기본 정보 표시 화면)에서 (좌 + 우) 동시 누름 (2초 이상): 디버깅 모드 (페이지 10) 진입.**
            * **페이지 10 (디버깅 모드)에서 (좌 + 우) 동시 누름 (2초 이상): 디버깅 모드 종료 및 페이지 1로 복귀.**
    * **표시 정보 공통:** 화면 상단 또는 하단에 배터리 잔량 아이콘, 현재 통신 방식(Zigbee/RS485) 및 연결 상태 아이콘 항시 표시 고려.

    ---
    **페이지 1: 기본 정보 표시 화면 (메인 화면)**
    * **표시 항목:**
        * 통신 ID: `[현재 활성화된 통신 방식의 ID - 예: Zigbee PAN ID/Short ID, RS485 Slave ID]`
        * 송신(Tx) / 수신(Rx) 카운트: `[예: Tx: 1025 / Rx: 87 (세션 또는 누적)]`
        * 현재 온도: `XX.X °C` (설정된 소수점 자리수 반영)
        * 현재 습도: `XX.X %RH` (설정된 소수점 자리수 반영)
    * **사용자 인터랙션:** 상/하 키로 페이지 이동. 좌 키 길게 눌러 설정 모드 진입. **(좌+우) 동시 누름 시 디버깅 모드(페이지 10)로 진입.**

    ---
    **페이지 2: 알람 상태 화면**
    * **표시 항목:**
        * 온도 알람: `[정상 / 낮음 경고 / 높음 경고 / 위험 (아이콘 또는 텍스트)]`
        * 습도 알람: `[정상 / 낮음 경고 / 높음 경고 / 위험 (아이콘 또는 텍스트)]`
        * 센서 상태 알람: `[정상 / 센서 스틱 연결 오류 / SHT43 센서 통신 오류 등]`
    * **사용자 인터랙션:** 상/하 키로 페이지 이동. 좌 키로 상세 진입 또는 우 키로 이전 이동. 알람 발생 시 해당 항목 강조 표시.

    ---
    **페이지 3: 온도 설정 화면**
    * **표시 항목 및 설정:** 온도 보정값 (옵셋 ±X.X °C), 상한 온도 알람 설정값, 하한 온도 알람 설정값.
    * **사용자 인터랙션:** 상/하 키로 항목 이동 및 값 변경, 좌 키로 설정 저장/확인, 우 키로 이전 이동.

    ---
    **페이지 4: 습도 설정 화면**
    * **표시 항목 및 설정:** 습도 보정값 (옵셋 ±X.X %RH), 상한 습도 알람 설정값, 하한 습도 알람 설정값.
    * **사용자 인터랙션:** 상/하 키로 항목 이동 및 값 변경, 좌 키로 설정 저장/확인, 우 키로 이전 이동.

    ---
    **페이지 5: 센서 상세 설정 화면**
    * **표시 항목 및 설정:** 온습도 측정 주기 (센서 스틱 전달용), 노점온도 표시 여부(ON/OFF), 소수점 자리수 설정 (온도/습도 각 1자리 또는 2자리).
    * **사용자 인터랙션:** 각 항목별 설정값 변경 및 저장.

    ---
    **페이지 6: 디스플레이 설정 화면**
    * **표시 항목 및 설정:** 화면 항상 표시(E-ink는 마지막 화면 유지 의미), 화면 업데이트 주기(배터리 모드 시), 화면 선명도/업데이트 품질(일반/고품질).
    * **사용자 인터랙션:** 각 항목별 설정값 변경 및 저장.

    ---
    **페이지 7: 날짜/시각 설정 화면**
    * **표시 항목 및 설정:** 현재 날짜(YYYY-MM-DD), 현재 시각(HH:MM:SS), 시간 동기화 방식(수동/Zigbee 네트워크 동기화).
    * **사용자 인터랙션:** 날짜/시각 수동 변경, 동기화 방식 선택.

    ---
    **페이지 8: 알람 및 소리 설정 화면**
    * **표시 항목 및 설정:** 센서 알람 유지 시간, 버튼음(켜기/끄기), 알람 발생 시 비프음(켜기/끄기), 비프음 전체 설정(모두 켜기/끄기).
    * **사용자 인터랙션:** 각 항목별 설정값 변경 및 저장.
    * `[참고: 비프음(Buzzer) 기능 구현 시 하드웨어 BoM에 부저 부품 추가 필요]`

    ---
    **페이지 9: 통신 설정 화면**
    * **표시 항목 및 설정 (공통):**
        * 주 통신 방식 선택: `[Zigbee / RS-485]` (**좌측면 물리 스위치로 설정, 화면에서는 현재 스위치 상태 표시 또는 스위치 설정 우선 적용**).
    * **RS-485 설정 (RS-485 회로 전원이 'ON'일 때 활성화):**
        * **RS-485 회로 전원:** `[켜기(ON) / 끄기(OFF)]` **(수동 선택, 출고 시 기본값: 끄기(OFF))**
        * 통신 국번 (Slave ID): `[1 ~ 247]` (RS-485 회로 전원 ON 시 설정 및 동작)
        * 통신 속도 (Baud Rate): `[9600 / 19200 / 38400 / 57600 / 115200 bps]`
        * 데이터/패리티/스톱 비트: `[8N1 / 8E1 / 8O1 등]`
    * **Zigbee 설정 (주 통신 방식이 'Zigbee' 또는 게이트웨이 모드에서 Zigbee 사용 시 활성화):**
        * PAN ID: `[0x0000 - 0xFFFE]` (읽기 전용 또는 설정 가능)
        * Channel: `[11 ~ 26]` (읽기 전용 또는 설정 가능)
        * Network Key (설정된 경우 마스킹 처리): `[XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX]`
        * Device Type: `[Router / End Device]`
        * TX Power Level: `[제조사 모듈 지원 범위 내 설정 가능한 단계]`
        * 보고 주기 (Uplink Interval): `[현재 설정값]` (Page 5 또는 별도 설정)
    * **사용자 인터랙션:** 상/하 키로 항목 이동 및 값 변경, 좌 키로 설정 저장/확인, 우 키로 이전 이동.

    ---
    **페이지 10: 디버깅 메뉴 (정보 표시 전용)**
    * **표시 항목 (읽기 전용):** 현재날짜/시간, 온도 Raw/표시값, 습도 Raw/표시값, 노점온도 계산값, SHT43 고유번호, 센서 스틱 정보, 통신 Tx/Rx 카운터, RS-485 설정정보(ID, Baud, 전원상태), **MCU 정보: STM32G070CBT6**, **Zigbee 모듈 정보(모듈명, 신호강도(LQI/RSSI), 연결상태, 네트워크 정보 등)**, 디스플레이 설정값, 펌웨어 버전(통신팩/센서스틱), 배터리 전압 상세, **스위치 상태(통신 방식, 전원 선택)**.
    * **사용자 인터랙션:** **페이지 1 (기본 정보 표시 화면)에서 (좌+우) 동시 누름을 통해서만 진입 가능. (좌+우) 동시 누름으로 디버깅 모드 종료 및 페이지 1로 복귀.**

    ---
* **상품성 향상을 위한 추가 제안 (Gemini 추천):**
    * **UI/UX 개선:**
        * **직관적인 아이콘 활용:** E-ink 화면에 배터리 잔량(단계별 아이콘), 통신 연결 상태(안테나 아이콘), 알람 발생 여부 등을 그래픽 아이콘으로 표시하여 가독성 및 직관성 향상.
        * **다국어 지원 고려:** 초기에는 한국어/영어를 기본으로 지원하고, 향후 타겟 시장에 따라 언어 추가 확장성 고려. (메뉴 및 표시 항목)
        * **사용자 설정 프로파일:** "저전력 모드", "고정밀/단시간 모드", "데이터센터 모드" 등 주요 사용 시나리오별 최적화된 설정값을 미리 정의하여 사용자가 쉽게 선택할 수 있도록 하는 프로파일 기능.
    * **부가 기능 확장:**
        * **간단한 데이터 로깅 및 추이 표시:** 통신팩 내부에 최근 일정 기간(예: 24시간)의 온습도 데이터를 저장하고, E-ink 화면에 간단한 그래프나 최소/최대값 형태로 추이 표시 (E-ink의 느린 업데이트와 제한된 표현력 고려).
        * **QR 코드를 이용한 정보 접근:** E-ink 화면에 장치 ID, 현재 상태, 또는 매뉴얼 링크 등이 담긴 QR 코드를 표시하여 스마트폰으로 쉽게 스캔하고 관련 정보에 접근할 수 있도록 지원.
        * **Bluetooth Low Energy (BLE) 인터페이스 추가 (하드웨어 변경 필요):** 스마트폰 앱과 직접 통신하여 초기 설정, 데이터 확인, 펌웨어 업데이트 등을 손쉽게 할 수 있도록 BLE 기능 추가 고려. (이 경우, 통신팩 MCU 선정 시 BLE 지원 모델 필요 또는 별도 BLE 모듈 추가)
    * **기구 및 디자인 개선:**
        * **센서 스틱 식별 용이성:** 다양한 센서 스틱 시리즈 출시 시, 각 스틱의 종류나 성능 등급을 쉽게 구분할 수 있도록 색상 코드, 레이블, 또는 미세한 형태 변화 등의 디자인 요소 적용.
        * **프리미엄 외장 옵션:** 특정 고급 시장을 위해 알루미늄 등 금속 재질의 외함 옵션 고려.
    * **소프트웨어 및 서비스 연동 강화:**
        * **개방형 API 또는 표준 프로토콜 지원 강화:** MQTT, HTTP API 등 표준 IoT 프로토콜을 지원하여 다양한 외부 플랫폼 및 서비스와 쉽게 연동할 수 있도록 확장성 제공.
        * **전용 모바일 앱 또는 웹 대시보드 제공:** 사용자가 원격에서 센서 상태를 모니터링하고 설정을 변경하며, 데이터를 시각적으로 확인할 수 있는 사용자 친화적인 앱/웹 인터페이스 제공 (클라우드 연동 필요).
    * **센서 스틱 확장성 강화 (펌웨어 측면):**
        * 통신팩 펌웨어가 새로운 센서 스틱(다른 종류의 센서 IC 탑재) 연결 시, 해당 스틱의 특성(데이터 형식, 측정 단위, 교정값 등)을 USB 인터페이스를 통해 자동으로 인식하거나, 최소한의 설정으로 지원할 수 있는 유연한 데이터 파서 및 처리 로직 구현.
        * 각기 다른 센서 스틱의 데이터와 상태 정보를 E-ink 디스플레이, Zigbee 페이로드, Modbus 레지스터 맵에 일관성 있게 또는 센서 특성에 맞게 매핑하는 유연한 구조.
* **전원 관리:**
    * (ER14505 배터리 관리, 저전력 경고, 외부 전원 감지 등 이전 버전과 동일)
    * **시스템 전체의 저전력 스케줄링 주도 (주 MCU STM32G070CBT6 우선 제어권):** 센서 스틱, Zigbee 모듈, RS-485 회로, E-ink 디스플레이 등 각 부의 전력 상태를 통합적으로 제어하여 배터리 수명 극대화.
    * **펌웨어 설정(페이지 9의 RS-485 회로 전원)에 따른 RS-485 트랜시버 및 관련 회로의 전원 차단/최저 전력 모드 전환 제어.**
    * **전원 선택 스위치(2P3T) 상태에 따른 전원 경로 제어.**
* **설정 기능:** (이전 버전과 동일, RS-485 회로 전원 수동 설정 포함). **E-ink 디스플레이를 통해 설정 가능한 모든 항목은 서버(또는 게이트웨이)로부터 Zigbee 또는 RS-485 Modbus 명령을 통해 원격으로 조회 및 변경 가능하도록 지원한다.**
* **FOTA (Firmware Over-The-Air Update):** **Zigbee OTA** 표준 지원 구현. (센서 스틱 펌웨어는 본체 USB 연결 또는 특정 프로토콜 통해 지원)

#### 3.2.3. 동작 모드 정의
* 초기화 모드
* **센서 모드 - 유선 (RS-485 통신):** 외부 DC 전원 사용. **펌웨어에서 RS-485 회로 전원이 'ON'으로 설정되어야 함.** Zigbee 모듈은 최저 전력 상태 또는 전원 차단. (통신 선택 스위치 '유선' 위치)
* **센서 모드 - 무선 (Zigbee 통신):** 배터리 또는 외부 DC 전원 사용. **펌웨어에서 RS-485 회로 전원이 'OFF'(출고 시 기본값)로 설정된 경우 해당 회로 전원 차단.** (통신 선택 스위치 '무선' 위치)
* **게이트웨이/중계기 모드 (통신팩 단독 또는 센서스틱 결합 무관):** 외부 DC 전원 사용 권장. **RS-485 회로 전원은 반드시 'ON'으로 설정.** Zigbee와 RS-485 간 데이터 중계.
* 설정 모드 (4키 인터페이스 및 E-ink 디스플레이 통해 진입 및 조작)
* 저전력 슬립 모드: **RS-485 회로 전원이 'OFF'일 경우 더 낮은 슬립 전류 달성.**
* 디버깅 모드: 페이지 1 (기본 정보 표시 화면)에서 (좌+우) 동시 입력 시 진입.

#### 3.2.4. RS-485 Modbus 레지스터 맵 (통신팩 제공 - 센서 모드 시)
| 주소 (Hex) | 레지스터명        | R/W | 데이터 타입 | 설명                                                                 |
| :--------- | :---------------- | :-- | :---------- | :------------------------------------------------------------------- |
| `0000`     | 현재 온도         | R   | `Float32`   | (센서 스틱에서 받은 값) 예: 25.5 (°C)                                  |
| `0002`     | 현재 습도         | R   | `Float32`   | (센서 스틱에서 받은 값) 예: 60.2 (%RH)                                 |
| `0004`     | 센서 스틱 상태    | R   | `UINT16`    | 예: 연결됨, 오류 코드 등                                               |
| `0006`     | 배터리 전압 (mV)  | R   | `UINT16`    |                                                                      |
| `0007`     | 배터리 상태       | R   | `UINT8`     | 예: 0-정상, 1-낮음, 2-매우낮음                                         |
| `0100`     | Modbus Slave ID   | R/W | `UINT16`    | 1 ~ 247                                                              |
| `0101`     | Baud Rate 코드    | R/W | `UINT16`    | 예: 0(9600), 1(19200) 등 코드화                                      |
| `0102`     | 측정 주기 (초)    | R/W | `UINT16`    | (센서 스틱에 전달할 값) 예: 10 ~ 3600                                  |
| `0103`     | **무선 전송 주기(초)** | R/W | `UINT16`    | 예: 60 ~ 36000 (Zigbee 보고 주기)                                    |
| `0104`     | 주 통신 방식      | R/W | `UINT8`     | 예: 0(Zigbee), 1(RS-485) (**스위치 설정 반영 또는 우선순위 정의**) |
| `0105`     | RS-485 회로 전원  | R/W | `UINT8`     | 예: 0(OFF), 1(ON)                                                    |
| `...`      | `[기타 설정값]`   | R/W | `...`       | (온도/습도 알람 임계값, 보정값 등 원격 설정 가능 항목 포함)                |

## 4. 성능 사양

### 4.1. 온도 측정
* **범위:** `-20 °C ~ +70 °C` (제품 전체 동작 보증 범위)
* **정확도 (Typical @ 25°C):** `±0.2 °C` (SHT43 기준)
* **분해능:** `0.01 °C`

### 4.2. 습도 측정
* **범위:** `0 %RH ~ 100 %RH`
* **정확도 (Typical @ 25°C, 20-80%RH):** `±1.8 %RH` (SHT43 기준)
* **분해능:** `0.01 %RH`

### 4.3. 측정/보고 주기
* 사용자 설정 가능 범위: `[예: 최소 1초 ~ 최대 24시간]`

### 4.4. 배터리 수명 목표 (ER14505 3.6V 2400mAh, E-ink GDEM0154D67WT, RS-485 회로 OFF 기준)

> [!IMPORTANT] 배터리 수명 시뮬레이션 가정 (센서 스틱 소비전력 및 E-ink GDEM0154D67WT 특성 반영)
> * **배터리 용량:** 2400 mAh
> * **활성 동작 (센서 스틱 측정/통신 + 통신팩 수신/처리):** `t_measure_active` = 0.3초, 이 때의 시스템 평균 전류 (`I_measure_active_state`) = 10mA. (`Q_measure_active` = 3.0 mA·s)
> * **E-ink 업데이트 이벤트 (GDEM0154D67WT):** `t_eink_update_event` = **2초**, 업데이트 시 평균 소비 전력 9.6mW (3.3V 기준 약 2.91mA). (`Q_eink_event` = 2.91mA * 2s ≈ **5.82 mA·s**)
> * **E-ink 대기 전력 (GDEM0154D67WT):** 0.003mW (3.3V 기준 약 0.00091mA ≈ **0.91µA**)
> * **최저 사용 시간 (Worst Case) 시나리오 (Zigbee 기준):**
>     * E-ink 디스플레이 매 보고 주기마다 전체 새로고침 (2초).
>     * **Zigbee (Digi Xbee3 Pro):** `t_comm_zigbee_worst_avg` = 0.8초, 평균 `I_comm_zigbee_worst_avg` = 25mA. (`Q_comm_zigbee_worst` = 20 mA·s) (실제 모듈 데이터시트 값으로 대체 필요)
>     * 시스템 전체 슬립 전류 (`I_sleep_worst_total`): **STM32G070CBT6 최저전력모드 전류** + 0.00091mA (E-ink 대기) = `[STM32G070CBT6 슬립 전류 확인 후 재계산 필요, 예: 0.025mA 가정 시 약 0.02591mA (25.9µA)]` (RS-485 회로 OFF, Zigbee 모듈 슬립 전류 별도 고려)
> * **최고 사용 시간 (Best Case) 시나리오 (Zigbee 기준):**
>     * E-ink 디스플레이 1시간(3600초)마다 전체 새로고침 (평균 추가 전류: `5.82mA·s / 3600s ≈ 0.001617mA`).
>     * **Zigbee (Digi Xbee3 Pro):** `t_comm_zigbee_best_avg` = 0.5초, 평균 `I_comm_zigbee_best_avg` = 18mA. (`Q_comm_zigbee_best` = 9 mA·s) (실제 모듈 데이터시트 값으로 대체 필요)
>     * 시스템 기본 슬립 전류 (`I_sleep_best_base`): **STM32G070CBT6 최저전력모드 전류** + 0.00091mA (E-ink 대기) = `[STM32G070CBT6 슬립 전류 확인 후 재계산 필요, 예: 0.005mA 가정 시 약 0.00591mA (5.9µA)]`. E-ink 평균 반영 시 유효 슬립 전류 (`I_sleep_eff_best`): `I_sleep_best_base` + 0.001617mA = `[재계산 필요]` (RS-485 회로 OFF, Zigbee 모듈 슬립 전류 별도 고려)
> * **참고:** 아래 값은 Digi Xbee3 Pro 모듈의 예상 평균 통신 전류(송수신 포함) 및 시간을 기반으로 재계산되었으며, 실제 환경 및 펌웨어 최적화 수준, Zigbee 모듈 및 STM32G070CBT6의 정확한 슬립 전류에 따라 크게 달라질 수 있습니다. **반드시 각 부품의 데이터시트를 참조하여 정확한 전류값을 적용하고 실측을 통해 검증해야 합니다.**

| 통신 방식         | 보고 주기       | 시나리오 (가정)        | 평균 소비 전류 (추정 mA) | 예상 배터리 수명 (시간) | 예상 배터리 수명 (일) | 예상 배터리 수명 (개월, 약) |
| :--------------- | :-------------- | :--------------------- | :----------------------- | :-------------------- | :------------------ | :------------------------ |
| **Zigbee (Digi Xbee3 Pro)** | **1초** | 최저 사용 시간 (Worst) | 28.84591                 | 83                      | 3.5                 | 0.1                       |
|                 |                 | 최고 사용 시간 (Best)  | 12.00753                 | 200                     | 8.3                 | 0.3                       |
|                 | **5초** | 최저 사용 시간 (Worst) | 5.78991                  | 415                     | 17.3                | 0.6                       |
|                 |                 | 최고 사용 시간 (Best)  | 2.40753                  | 997                     | 41.5                | 1.4                       |
|                 | **10초** | 최저 사용 시간 (Worst) | 2.90791                  | 825                     | 34.4                | 1.1                       |
|                 |                 | 최고 사용 시간 (Best)  | 1.20753                  | 1,988                 | 82.8                | 2.7                       |
|                 | **30초** | 최저 사용 시간 (Worst) | 0.98658                  | 2,433                   | 101.4               | 3.3                       |
|                 |                 | 최고 사용 시간 (Best)  | 0.40753                  | 5,889                   | 245.4               | 8.1                       |
|                 | **1분 (60초)** | 최저 사용 시간 (Worst) | 0.50624                  | 4,741                   | 197.5               | 6.5                       |
|                 |                 | 최고 사용 시간 (Best)  | 0.20753                  | 11,565                  | 481.9               | 15.8                      |
|                 | **2분 (120초)** | 최저 사용 시간 (Worst) | 0.26608                  | 9,020                   | 375.8               | 12.3                      |
|                 |                 | 최고 사용 시간 (Best)  | 0.10753                  | 22,320                  | 930.0               | 30.6                      |
|                 | **5분 (300초)** | 최저 사용 시간 (Worst) | 0.12198                  | 19,676                  | 819.8               | 26.9                      |
|                 |                 | 최고 사용 시간 (Best)  | 0.04753                  | 50,498                  | 2,104.1             | 69.1                      |
|                 | **7분 (420초)** | 최저 사용 시간 (Worst) | 0.09453                  | 25,389                  | 1,057.9             | 34.8                      |
|                 |                 | 최고 사용 시간 (Best)  | 0.03519                  | 68,199                  | 2,841.6             | 93.4                      |
|                 | 10분 (600초)    | 최저 사용 시간 (Worst) | 0.07394                  | 32,458                  | 1,352.4             | 44.4                      |
|                 |                 | 최고 사용 시간 (Best)  | 0.02753                  | 87,191                  | 3,633.0             | 119.3                     |
|                 | 30분 (1800초)   | 최저 사용 시간 (Worst) | 0.04192                  | 57,250                  | 2,385.4             | 78.4                      |
|                 |                 | 최고 사용 시간 (Best)  | 0.01419                  | 169,100                 | 7,045.8             | 231.5                     |
|                 | 1시간 (3600초)  | 최저 사용 시간 (Worst) | 0.03391                  | 70,763                  | 2,948.5             | 96.9                      |
|                 |                 | 최고 사용 시간 (Best)  | 0.01096                  | 218,998                 | 9,124.9             | 299.8                     |
|                 | 6시간 (21600초) | 최저 사용 시간 (Worst) | 0.02724                  | 88,093                  | 3,670.5             | 120.6                     |
|                 |                 | 최고 사용 시간 (Best)  | 0.00808                  | 296,951                 | 12,373.0            | 406.4                     |

### 4.5. E-ink 디스플레이
* **모델명 (예시):** **GDEM0154D67WT (또는 동급)**
* **크기 및 종류:** **1.54인치, 흑백 (4단계 그레이스케일 가능)**
* **해상도:** **200 x 200 픽셀**
* **인터페이스:** **SPI**
* **드라이버 IC:** **SSD1681 (또는 호환)**
* **화면 업데이트 시간 (Typical, 제조사 기준):** 전체 화면 갱신 약 **2초**
* **소비 전력 (Typical, 제조사 기준):** 화면 업데이트 시 약 **9.6mW**, 딥 슬립 시 약 **0.003mW**
* **수명:** `[제조사 기준 업데이트 횟수 또는 년수]`

### 4.6. 통신 거리 (Typical, 환경 및 안테나에 따라 변동)
* **Zigbee (Digi Xbee3 Pro):** 실내 `[수십 m ~ 100m]`, 실외(LOS) `[수백 m ~ 수 km (Pro 버전의 경우)]` (환경 및 안테나에 따라 크게 변동)
* **RS-485:** 최대 `1.2 km` (표준 조건)

### 4.7. 주요 동작 상태별 예상 소비 전력 (추정)

> [!IMPORTANT] 동작 소비전력 추정 참고 사항
> * 본 추정치는 상세 회로 설계 및 최종 부품 선정 전의 **개략적인 값**이며, 실제 소비 전력은 펌웨어 최적화 수준, MCU 동작 클럭, 주변 환경 등에 따라 크게 달라질 수 있습니다.
> * 전력 값은 주로 시스템 내부 로직 전압 3.3V를 기준으로 환산 참고용으로 제시될 수 있으며, 전류 값을 중심으로 이해하는 것이 좋습니다.
> * **반드시 프로토타입 제작 후 실측을 통해 검증해야 합니다.**
> * **STM32G070CBT6, TI ISOW1432DFMR 및 Digi Xbee3 Pro 모듈의 실제 소비 전력은 각 부품의 데이터시트를 통해 정확히 확인하고 반영해야 합니다.**

| 동작 상태 (Operational State)                                | 주요 활성 부품                                                                   | 예상 평균 소비 전류 (mA)<br>(@3.3V 시스템 전압 가정) | 예상 평균 소비 전력 (mW)<br>(@3.3V 시스템 전압 가정) | 지속 시간 (예시) | 비고 (설계 시 추가 고려사항)                                                                                                                                                                                          |
| :----------------------------------------------------------- | :----------------------------------------------------------------------------- | :---------------------------------------------------- | :---------------------------------------------------- | :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **1. 온습도 측정 및 내부 데이터 처리**<br>(센서스틱 활성 + 통신팩 MCU 데이터 수신/처리) | 센서 스틱 MCU, **SHT43 모듈**, 통신팩 주 MCU(**STM32G070CBT6**) (센서 스틱 인터페이스부) | 약 **8 ~ 15 mA** | 약 **26 ~ 50 mW** | 0.2 ~ 0.5 초     | 센서 스틱의 MCU 종류 및 동작 클럭, 통신팩 MCU와의 UART 통신 방식 및 속도에 따라 변동.                                                                                                                                        |
| **2. E-ink 디스플레이 업데이트**<br>(GDEM0154D67WT, 전체 새로고침) | 통신팩 주 MCU(**STM32G070CBT6**), E-ink 드라이버 (SSD1681)                               | 약 **7 ~ 12 mA** | 약 **23 ~ 40 mW** | 약 2 초          | E-ink 자체는 업데이트 시 9.6mW (약 2.9mA @3.3V). 통신팩 MCU가 SPI 통신 및 데이터 처리하는 동안의 소비 전류 추가.                                                                                                               |
| **3. 무선 통신 - Zigbee (Digi Xbee3 Pro)**<br>(모듈 내 MCU + RF부) |                                                                                |                                                       |                                                       |                  |                                                                                                                                                                                                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;- 데이터 송신 시 (Peak 근사, +8dBm)     | Digi Xbee3 Pro 모듈 (RF TX 활성), 통신팩 주 MCU(**STM32G070CBT6**) 제어               | 약 **30 ~ 40 mA** (예상)                              | 약 **99 ~ 132 mW** (예상)                             | 수십 ~ 수백 ms   | Zigbee 모듈의 송신 전류 및 시간은 페이로드 크기, 네트워크 환경에 따라 변동. **데이터시트 확인 필수.** |
| &nbsp;&nbsp;&nbsp;&nbsp;- 데이터 수신 시 (RX Window)            | Digi Xbee3 Pro 모듈 (RF RX 활성), 통신팩 주 MCU(**STM32G070CBT6**) 제어               | 약 **20 ~ 30 mA** (예상)                              | 약 **66 ~ 99 mW** (예상)                              | 수십 ~ 수백 ms   | Zigbee 모듈의 수신 전류. **데이터시트 확인 필수.** |
| &nbsp;&nbsp;&nbsp;&nbsp;- 평균 통신 이벤트 (짧은 송수신)         | Digi Xbee3 Pro 모듈, 통신팩 주 MCU(**STM32G070CBT6**)                             | 약 **25 ~ 35 mA** (예상)                              | 약 **82 ~ 115 mW** (예상)                             | 0.3 ~ 0.5 초     | Zigbee 통신 시퀀스 동안의 "시스템 평균" 전류.                                                                                                                                                                             |
| **4. 유선 통신 - RS-485 (절연형 TI ISOW1432DFMR 기준)**<br>(통신팩 MCU + RS-485 트랜시버) | 통신팩 주 MCU(**STM32G070CBT6**), **절연형 TI ISOW1432DFMR** 트랜시버                      | `[데이터시트 참조]`                                   | `[데이터시트 참조]`                                   | 데이터 전송 중     | **TI ISOW1432DFMR 데이터시트 확인 필수.** (주 통신 방식이 Zigbee일 경우, 이 회로는 펌웨어 설정 또는 스위치에 따라 전원 차단됨)                                                                                                   |
| **5. 대기 모드 (Deep Sleep)**<br>(센서스틱 포함, E-ink 대기 전력 포함, **RS-485 회로 차단 시**) | 통신팩 주 MCU(**STM32G070CBT6**) 슬립, Zigbee 모듈 슬립, E-ink 대기, 센서스틱 유휴 등 | **약 0.0075 ~ 0.026 mA** <br>**(7.5 ~ 26 µA)** (Zigbee 모듈 및 STM32G070CBT6 슬립 전류 미반영, 실제 값은 데이터시트 기반 재계산 필요) | **약 0.025 ~ 0.086 mW** (Zigbee 모듈 및 STM32G070CBT6 슬립 전류 미반영) | 대부분의 시간    | 이전 배터리 시뮬레이션 Best/Worst 유효 슬립 전류 범위. (E-ink GDEM0154D67WT 대기전력 약 0.91µA 포함, RS-485 회로 OFF 가정). **Digi Xbee3 Pro 모듈 및 STM32G070CBT6의 슬립 모드 소비 전력 확인 및 전체 시스템 슬립 전류 재계산 필요.** |

#### 소비 전력에 대한 평가 및 추가 고려사항:
* **E-ink 디스플레이:** GDEM0154D67WT 모델은 업데이트 시간(2초)이 매우 짧고, 대기 전력(약 0.91µA)도 매우 낮아 전반적인 전력 효율에 매우 긍정적입니다. Worst Case 시나리오(매 주기 업데이트)에서도 이전 3색 E-ink 대비 배터리 수명이 크게 개선될 것으로 예상됩니다.
* **무선 통신 (Zigbee):** Digi Xbee3 Pro 모듈은 안정적인 근거리 통신을 제공하며, KC 인증을 받은 제품입니다. Zigbee 통신의 실제 소비 전력은 네트워크 토폴로지, 데이터 전송 빈도, TX 출력, 페이로드 크기, 네트워크 환경 등에 따라 크게 달라지므로, 실제 환경에서의 최적화 및 테스트가 중요합니다.
* **RS-485 (절연형 TI ISOW1432DFMR):** TI ISOW1432DFMR은 절연 기능과 함께 저전력 특성을 가질 수 있으나, 정확한 소비 전력은 데이터시트를 통해 확인해야 합니다. 배터리 모드에서는 반드시 사용자가 필요시에만 활성화하고, 기본적으로는 펌웨어 설정 또는 물리 스위치에서 전원을 차단(출고 시 OFF)하여 배터리 소모를 최소화해야 합니다.
* **MCU 및 센서 스틱 소비 전력:** 센서 스틱 자체의 MCU와 통신팩의 **STM32G070CBT6** MCU 모두 초저전력 부품을 사용하고, 활성 시간을 최소화하는 펌웨어 설계가 필수적입니다. 센서 스틱과의 USB(UART) 통신 또한 효율적으로 관리되어야 합니다.
* **전원 관리 회로 효율:** 배터리 전압 및 외부 입력 전압(5V USB-C, 24V 단자)을 시스템 내부 전압(3.3V 등)으로 변환하는 DC-DC 컨버터 및 LDO의 효율과 대기 전류(Quiescent Current)도 전체 소비 전력에 영향을 미치므로, 고효율/저전력 부품 선정이 중요합니다.

## 5. 기구 사양

### 5.1. 외함 (Enclosure)
* **모듈형 결합/분리 구조:**
    * **센서 스틱과 통신팩은 사용자가 용이하게 분리 및 결합할 수 있는 구조로 제작한다.** `[USB-A 포트의 기구적 견고성, 방수/방진 처리(결합 시), 반복 탈부착 내구성 확보 방안 명시]`
* **센서 스틱 (Sensor Stick):**
    * **크기:** **폭 15mm x 두께 7mm x 길이 50mm (USB-A 플러그 제외)**
    * **재질:** `[예: 내열성/내화학성 플라스틱 (PC, PBT 등), 또는 알루미늄 압출]`
    * **통풍구 설계:** **데이터센터 FWU(Fan Wall Unit) 운전 특성을 고려하여, 외부 바람에 의한 직접적인 간섭을 최소화하고 와류 발생을 방지하기 위한 이중 케이스(또는 이에 준하는 차폐/유도) 구조로 제작한다.** `[예: 1차 외부 케이스의 특정 위치에 공기 유입/배출구, 2차 내부 케이스(또는 PCB자체)에 센서 주변 공기 흐름 유도 구조, 미세 먼지 필터 옵션 등]`
    * **결합부:** USB-A Male 플러그
* **통신팩(무선팩):**
    * **센서 스틱 결합부:** USB-A Female 포트 (내구성 및 정확한 위치 정렬 고려)
    * **배터리 커버:** **ER14505 배터리는 사용자가 교체하기 용이하도록 설계한다.** (예: 슬라이드 앤 락(Slide & Lock) 방식, 스냅핏(Snap-fit) 커버, 또는 최소한의 표준 나사(십자 등) 사용)
* **USB-C 포트 접근성:** 통신팩 외부에 노출, 필요시 방수캡 적용.
* **디버깅 포트:** **제품 좌측면에 펌웨어 개발 및 디버깅을 위한 포트(예: Micro USB 또는 UART 핀헤더) 배치.**
* **사용자 스위치:** **제품 좌측면에 2개의 슬라이드 스위치 배치.**
    * **통신 방식 선택 스위치 (2P):** 무선(Zigbee) 통신과 유선(RS-485) 통신 모드를 수동으로 전환.
    * **전원 선택 스위치 (2P3T):** 외부 24Vdc, OFF(배터리 우선 또는 완전 OFF), USB-C 5Vdc 전원 입력 선택.
* **외함 재질 및 마감:** `[PC/ABS Blend 또는 UV 안정화된 ASA/PC (내후성, 내충격성, 난연 등급 UL94-V0 목표)]`, 색상 `[예: 산업용 아이보리 (RAL 9002), 라이트 그레이 (RAL 7035)]`
* **IP 등급 목표:**
    * 센서 스틱 단독: `IP54` (USB-A 플러그 부분은 결합 시 IP 등급 만족)
    * 통신팩 단독 (센서 스틱 미결합 시 USB-A 포트): `[보호캡 적용 시 IP54 목표]`
    * 센서 스틱 + 통신팩 결합 시: `IP65` (결합부 포함)
* **IK 등급 목표 (필요시):** `IK07`
* **마그네틱 마운트 호환성:** 통신팩 후면 또는 특정 면에 전용 마그네틱 마운트와 안정적으로 결합될 수 있도록 평탄면 또는 자석 매립 공간 설계.
* **하드웨어 리셋 버튼 접근:** 외함에 작은 홀을 통해 내부 리셋 버튼을 누를 수 있도록 설계 (오작동 방지).

### 5.2. 크기 (Dimension) 목표
* 센서 스틱: **15mm(W) x 7mm(D) x 50mm(H)** (USB-A 플러그 제외)
* 통신팩: `[예: L: 85mm x W: 60mm x H: 28mm (AA 사이즈 배터리 및 E-ink, USB-A 포트 내부 공간 고려)]`
* 결합 시 전체 (예상): `[통신팩 크기에서 센서 스틱 돌출 길이 포함]`

### 5.3. 무게 (Weight) 목표
* 센서 스틱: `[< 20g]`
* 통신팩 (ER14505 배터리 포함): `[< 100g]`
* 결합 시 전체: `[< 120g]`

### 5.4. 장착 방식 (Mounting)
* **주 장착 방식: 전용 마그네틱 마운트 시스템**
    * 통신팩과 벽면/구조물 부착용 마운트 간 마그네틱 결합 방식 적용.
    * 마운트는 설치면에 스크류 또는 강력 산업용 양면테이프로 고정 가능하도록 설계.
    * 탈부착 용이성 및 안정적인 고정력 제공.
* **보조 장착 방식 (통신팩 또는 마운트에 통합):**
    * `[벽면 부착용 스크류 홀, 케이블 타이 활용 가능한 홈 또는 슬롯, DIN 레일 장착용 어댑터(옵션)]`

## 6. 환경 사양

### 6.1. 동작 온도 범위
* **-25 °C ~ +50 °C (E-ink 디스플레이 GDEM0154D67WT 동작 온도 범위 기준)**
* (센서(-40~+125°C) 및 ER14505 배터리(-55~+85°C)는 더 넓은 범위를 지원하나, 디스플레이가 제품 전체의 동작 온도 범위를 제한함. 이 범위를 벗어난 환경에서는 디스플레이의 정상적인 업데이트나 표시를 보장할 수 없음. 단, 데이터 측정 및 통신은 더 넓은 범위에서 가능하도록 설계 목표 설정 가능: `[예: -25°C ~ +70°C, 디스플레이 제외 기능]`

### 6.2. 보관 온도 범위
* **-25 °C ~ +70 °C (E-ink 디스플레이 GDEM0154D67WT 보관 온도 범위 기준)**
* (배터리 분리 시 제품 자체 보관 온도는 더 넓을 수 있음: `[예: -40 °C ~ +85 °C]`)

### 6.3. 동작 습도 범위
* `0 %RH ~ 95 %RH` (비응축, 센서부 및 외함 결합부 방수 처리 고려)

## 7. 인증 및 규격 (목표)

* **국내:** KC 인증
    * **통신팩:** 방송통신기자재 적합성평가 (**Zigbee RF**, EMC).
    * **센서 스틱:** (자체 RF 기능 없을 시) EMC 적합등록 (필요성 검토). USB 인터페이스 관련 규정.
    * (전기용품안전인증은 사용 전원 및 회로 구성에 따라 필요 여부 판단)
* **해외 (필요시):** `[CE (유럽), FCC (미국)]` (통신팩 및 센서 스틱 개별 또는 결합 상태로 진행)
* **RoHS2:** 유해물질 사용제한 지침 준수
* **기타:** `[방수/방진 IP 등급 공인 시험 성적서, 배터리 관련 안전 인증(필요시, 예: UN38.3)]`

> [!NOTE] 인증 전략
> 센서 스틱과 통신팩은 설계 단계부터 가능한 개별 모듈로서 독립적인 인증(특히 통신팩의 RF 및 EMC, 센서 스틱의 EMC)을 받을 수 있도록 고려하여, 향후 센서 스틱 시리즈 확장 및 제품화 유연성을 확보한다. 최종 판매 제품은 결합된 형태로 추가적인 시스템 레벨의 인증 또는 적합성 확인이 필요할 수 있다.

## 8. 소프트웨어/플랫폼 연동 (목표)

* **Zigbee:** `[표준 Zigbee 게이트웨이 및 플랫폼(예: SmartThings, Home Assistant 등 Zigbee 지원 플랫폼)과의 호환성 확보, Zigbee Cluster Library(ZCL) 기반 데이터 모델 정의]`
    * **원격 설정 및 관리:** Zigbee 네트워크를 통해 서버 또는 게이트웨이에서 장치의 주요 설정값(알람 임계값, 보고 주기, RS-485 파라미터 등)을 원격으로 구성하고, 장치 상태 조회 및 제어(예: 원격 재부팅) 명령을 지원.
* **RS-485 (Modbus RTU):** `[표준 Modbus 마스터 S/W, PLC, HMI, SCADA 시스템과의 연동 테스트 및 레지스터 맵 제공]`
    * **원격 설정 및 관리:** 정의된 Modbus 레지스터 맵을 통해 마스터 기기가 장치의 설정값을 읽고 쓸 수 있도록 지원.
* **데이터 시각화/관리 도구 (선택 사항):** `[기본적인 데이터 확인 및 설정 변경이 가능한 PC용 유틸리티(USB 연결) 또는 모바일 앱(BLE 경유 - BLE 기능 추가 시) 제공 검토]`
* **DCIM 솔루션 연동:** **서버 또는 게이트웨이를 통해 수집된 센서 데이터를 표준 프로토콜(예: MQTT, SNMP, API)로 DCIM 시스템에 전송하여 통합 관리 지원.**

## 9. 기타 요구사항

* 사용자 매뉴얼 (국문 필수, 영문 선택): 제품 설치(마운트 사용법 포함), **센서 스틱 결합/분리 방법, ER14505 배터리 교체 방법 상세 안내**, 초기 설정, 통신 설정, **버튼 조작법(특수 조합키 포함)**, 문제 해결 가이드 포함
* 기술 지원: `[온라인 FAQ, 이메일/전화 지원, 원격 지원(가능 시)]`
* 제품 포장: `[제품, 센서 스틱, 마운트 보호, 친환경 소재, 개봉 용이성, 필수 정보 표기]`
* 품질 보증 기간: `[예: 1년 또는 2년]`

## 10. 부록 (Appendix)

### 10.1. 예상 PCB 부품 명세서 (BoM) (Version 1.40 사양 기반)

> [!IMPORTANT] BoM 참고 사항
> * 본 BoM은 **예상 및 추정치**이며, 실제 BoM은 상세 회로도 설계, PCB 아트웍, 부품 선정 최적화 등에 따라 크게 달라집니다.
> * 주요 능동 부품 외 수동 부품(저항, 커패시터 등)은 대표적인 유형만 기술하였으며, 실제 수량 및 값은 설계 시 결정됩니다.

#### 10.1.1. 센서 스틱 (Sensor Stick) PCB BoM

| 항목 No. | 부품 유형             | 주요 부품/모델 예시 (또는 규격)                         | 설명                                         | 예상 수량 | 패키지 (예시) | 비고                     |
| :------- | :-------------------- | :------------------------------------------------------ | :------------------------------------------- | :-------- | :------------ | :----------------------- |
| U1_SS    | MCU (센서 스틱용)     | `[예: STM32L011, SAMD10 등 초저전력]`                    | **SHT43 센서 모듈 제어**, UART 통신(USB D+/D- 사용) | 1         | QFN, SOIC     | (기능 최소화)            |
| U_TH_SS  | **온습도 센서 모듈** | **SHT43 탑재 센서 모듈 (예: AliExpress 링크 참조 모델)** | **SHT43 기반 온습도 측정 모듈, I2C 인터페이스** | 1         | **모듈 형태 (PCB 실장)** |                          |
| J_USB_A_P| USB-A 플러그          | `표준 USB-A Male Plug (PCB 실장형)`                       | 통신팩 연결 (VBUS, GND, UART_TX, UART_RX)    | 1         | SMD/THT       |                          |
| C_DEC_SS | 디커플링 커패시터     | `0.1uF, 1uF 등`                                         | MCU, SHT43 모듈 전원 안정화                  | 다수      | 0402, 0603    |                          |
| R_PU_SS  | 풀업 저항 (I2C 등)    | `[예: 4.7kΩ]`                                           | 필요시 I2C 등 풀업                           | 0~2       | 0402          | MCU 내부 풀업 활용 가능  |
| PCB_SS   | 인쇄회로기판(PCB)     | `[초소형, 슬림형 다층 PCB]`                               | 센서 스틱용 PCB                              | 1         | -             | 15x7mm 폭 내 실장 고려   |

#### 10.1.2. 통신팩 (Communication Pack) PCB BoM - Zigbee 단일화 및 RS485 종단저항/전원제어 반영
| 항목 No.    | 부품 유형                 | 주요 부품/모델 예시 (또는 규격)                                               | 설명                                                                | 예상 수량 | 패키지 (예시) | 비고                                                                    |
| :---------- | :------------------------ | :------------------------------------------------------------------------------ | :------------------------------------------------------------------ | :-------- | :------------ | :---------------------------------------------------------------------- |
| **U_MCU_CP**| **주 MCU** | **STM32G070CBT6** | **시스템 전체 제어, 주변 장치 인터페이스, 저전력 관리** | **1** | **LQFP48** |                                                                         |
| U_RF_MB     | **Zigbee 모듈** | **KC인증 Digi Xbee3 Pro Zigbee 3.0 (SMT 또는 Through-hole 타입)** | **Zigbee 통신 담당** | 1         | 모듈          |                                                                         |
| J_USB_A_F   | USB-A Female 포트         | `표준 USB-A Female Receptacle (PCB 실장형)`                                       | 센서 스틱 연결용 (**UART 신호선 연결** 및 전원 공급)                      | 1         | SMD/THT       |                                                                         |
| U_RS485_MB  | RS-485 트랜시버           | **TI ISOW1432DFMR (절연형)** 또는 동급 절연형                                     | 통신팩의 RS-485 통신 인터페이스                                         | 1         | SOIC          |                                                                         |
| R_TERM_485  | RS-485 종단 저항          | 120Ω (예: 1/4W, ±1% ~ ±5%)                                                      | RS-485 버스 종단용 저항                                               | 1         | 0805, 0603    |                                                                         |
| JP_TERM_485 | RS-485 종단 점퍼/스위치   | 2핀 헤더 + 점퍼캡 또는 1P DIP 스위치                                              | 종단 저항 사용 여부 사용자 선택용                                       | 1         | THT/SMD       |                                                                         |
| Q_SW_RS485  | RS-485 전원 스위치 소자   | `[예: 소형 P-Ch MOSFET 또는 LDO Enable 제어]`                                     | RS-485 트랜시버 및 관련 회로 전원 소프트웨어적 ON/OFF용                    | 1         | SOT23 등      | (펌웨어에서 수동 선택 시 제어)                                              |
| ANT1        | 안테나                    | `Zigbee용 칩 안테나 또는 u.FL 커넥터 외장 안테나`                                   | RF 송수신                                                             | 1         | SMD/커넥터    |                                                                         |
| DISP1       | E-ink 디스플레이 모듈     | **GDEM0154D67WT (1.54인치, 200x200, 흑백 4-Grayscale, SPI, SSD1681)** | 정보 표시                                                               | 1         | 모듈 형태     | 24pin FPC 0.5mm pitch                                                   |
| BAT_HLD     | 배터리 홀더               | ER14505 (AA 사이즈)용 홀더                                                      | 배터리 장착                                                             | 1         | THT/SMD       | 사용자 교체 용이성 고려                                                   |
| J_USBC      | USB Type-C 커넥터         | `USB-C Receptacle`                                                              | 시스템 전원 공급 및 (선택적) 데이터 통신/펌웨어 업데이트                    | 1         | SMD           | CC핀 저항, ESD 보호 필요                                                  |
| U_PROT_BAT  | 배터리 보호 회로 부품     | `[Li-SOCl2용 안전회로 부품 예: PTC, 역전류 방지 다이오드, 퓨즈 등]`                 | ER14505 배터리 안전 운용                                              | 필요 수량 | SMD/THT       | 외부 전원 사용 시 배터리 역전류 방지 필수                                   |
| U_PMIC      | DC-DC/LDO 레귤레이터      | `[배터리/USB 전압 -> 3.3V 변환, 예: TPS630xx (Buck-Boost), MCP1700 (LDO)]` <br> `[24V 입력 처리용 DC-DC 컨버터 추가]` | 시스템 주 전원 공급                                                       | 1~3       | SOIC, DFN     | 고효율, 저전력 대기 전류                                                  |
| J_PWR_CONN  | **8P 전원/통신 단자** | `터미널 블록 (예: Phoenix Contact COMBICON)`                                        | RS-485 통신 (A, B, G, A1, B1, G) 및 DC 24V 입력용 (24V+, GND_DC_IN) | 1         | THT/SMD       |                                                                         |
| F_PWR_IN    | 퓨즈/PTC (외부전원용)     | `[외부 DC 입력 보호용]`                                                         | 과전류 보호                                                             | 1         | SMD/THT       |                                                                         |
| D_RVP_HV    | 역전압 보호 다이오드      | `[외부 DC 입력 보호용]`                                                         | 역전압 보호                                                             | 1         | DO-214AC 등   |                                                                         |
| SW1..SW4    | 푸시 버튼 스위치 (4개)    | `Tactile Switch`                                                                | 사용자 입력 (좌, 우, 상, 하)                                            | 4         | SMD/THT       |                                                                         |
| SW_COMM     | 슬라이드 스위치 (2P)      | `[적합한 2P 슬라이드 스위치]`                                                   | 통신 방식 선택 (무선/유선)                                              | 1         | SMD/THT       |                                                                         |
| SW_PWR      | 슬라이드 스위치 (2P3T)    | `[적합한 2P3T 슬라이드 스위치]`                                                 | 전원 선택 (24V/OFF/5V)                                                  | 1         | SMD/THT       |                                                                         |
| **SW_RST** | **리셋 스위치** | **`Tactile Switch (매립형)`** | **시스템 하드웨어 리셋** | **1** | **SMD** |                                                                         |
| J_DBG       | 디버깅 포트 커넥터        | `[예: Micro USB 또는 4핀 JST 커넥터]`                                              | 펌웨어 디버깅 및 시리얼 통신용                                            | 1         | SMD/THT       |                                                                         |
| LED1,LED2   | 상태표시 LED              | `Red, Green, Blue 등`                                                           | 전원, 통신 상태 표시                                                    | 2~3       | 0603, 0805    | 각 LED에 맞는 전류제한 저항 필요                                          |
| R_LED       | LED 전류제한 저항         | `[LED 규격에 따름, 예: 330Ω ~ 1kΩ]`                                             | LED 보호                                                              | 2~3       | 0402, 0603    |                                                                         |
| C_DEC_MB    | 디커플링 커패시터         | `0.1uF, 1uF, 10uF 등 다수`                                                      | MCU, 통신모듈, 기타 IC 전원 안정화                                        | 다수      | 0402, 0603    |                                                                         |
| L_DCDC      | 인덕터                    | `[DC-DC 컨버터 규격에 따름]`                                                    | DC-DC 컨버터용                                                        | 필요 수량 | SMD           |                                                                         |
| PCB_MB      | 인쇄회로기판(PCB)         | `[다층 PCB, 재질 FR-4]`                                                         | 통신팩용 메인보드                                                         | 1         | -             |                                                                         |

#### 10.1.3. BoM 산출 시 추가 설명:
* **수동 부품 (저항, 커패시터, 인덕터):** 실제 회로 설계에 따라 수십 개에서 수백 개까지 사용될 수 있으며, 각 부품의 정격(값, 허용오차, 전압/전류 등)은 상세 설계 시 결정됩니다. 위 표에는 대표적인 유형과 예상 용도만 기술했습니다.
* **보호 부품:** ESD 보호 다이오드, TVS 다이오드, Ferrite Bead 등은 회로의 안정성과 내구성을 위해 전원 입력단, 통신 라인, 버튼 등에 추가될 수 있습니다.
* **PCB 사양:** PCB의 층수(예: 2층 또는 4층), 재질, 두께, 표면 처리 등은 RF 성능, EMC 대책, 부품 밀도 등을 고려하여 결정됩니다.
* **최적화:** 실제 양산 시에는 부품 통합(예: 여러 기능을 하는 단일 IC 사용), 비용 절감, 수급 용이성 등을 고려하여 BoM이 최적화됩니다.

### 10.2. 프로토타입 10세트 제작을 위한 예상 부품 비용 추정 (단위: 원) - Zigbee 단일화 및 RS485 절연형/종단저항 반영

> [!IMPORTANT] 비용 추정 참고 사항
> * 본 비용은 **프로토타입 10세트 제작에 필요한 순수 전자부품 비용**에 대한 개략적인 예상치이며, **Mouser, Digi-Key 등 주요 부품 공급 사이트의 소량 구매 단가를 참고**하여 산출되었습니다. (2025년 5월 기준 가상 조회)
> * **실제 부품 가격은 변동성이 매우 크므로, 이 표는 참고용으로만 사용하십시오.**
> * **PCB 제작/조립, 외함/마운트 제작, 배송, 관세/세금, 개발 인건비, 인증 비용 등은 모두 제외된 부품 원가 중심의 추정입니다.**
> * 수동부품(저항, 커패시터 등)은 상세 설계에 따라 수량 및 비용이 크게 달라질 수 있어 일괄 항목으로 대략적인 범위를 제시합니다.

#### 10.2.1. 센서 스틱 (Sensor Stick) - 1대당 예상 부품 비용

| 부품 유형           | 예시 모델/규격 (또는 유사품)                                    | 예상 단가 (10개 단위 구매 시, 개당) | 수량 | 합계 (추정)     | 비고                  |
| :------------------ | :-------------------------------------------------------------- | :------------------------------------ | :--- | :-------------- | :---------------------- |
| MCU (센서 스틱용)   | STM32L011F4P6 (TSSOP20) 등 초소형                               | 2,000 ~ 4,000                         | 1    | 2,000 ~ 4,000   | (기능 최소화)         |
| **온습도 센서 모듈** | **SHT43 탑재 센서 모듈 (AliExpress 링크 참조 모델)** | **2,000 ~ 4,000** | 1    | **2,000 ~ 4,000** | (SHT43 포함 가격)     |
| USB-A Male 플러그   | PCB 실장형                                                      | 200 ~ 500                             | 1    | 200 ~ 500       |                         |
| 수동소자 및 기타    | (저항, 커패시터 등 약 10~20개 가정)                             | -                                     | 일괄 | 500 ~ 1,500     | (디커플링, 풀업 등)     |
| **센서 스틱 1대당 예상 부품 소계** |                                                                 |                                       |      | **4,700 ~ 10,000** |                         |

#### 10.2.2. 통신팩 (Communication Pack) - 1대당 예상 부품 비용 (Zigbee 단일화 및 관련 부품)

| 부품 유형                  | 예시 모델/규격 (또는 유사품)                                  | 예상 단가 (10개 단위 구매 시, 개당) | 수량 | 합계 (추정)         | 비고                                                                 |
| :------------------------- | :------------------------------------------------------------ | :------------------------------------ | :--- | :----------------- | :--------------------------------------------------------------------- |
| **주 MCU** | **STM32G070CBT6** | 3,000 ~ 6,000                         | 1    | 3,000 ~ 6,000      | (소량 구매가 기준)                                                     |
| **Zigbee 모듈** | Digi Xbee3 Pro Zigbee 3.0                                     | 18,000 ~ 30,000                       | 1    | 18,000 ~ 30,000    |                                                                        |
| USB-A Female 포트          | 표준 USB-A Female Receptacle                                  | 300 ~ 800                             | 1    | 300 ~ 800          | (센서 스틱 연결용)                                                   |
| RS-485 트랜시버            | **TI ISOW1432DFMR (절연형)** | 4,000 ~ 8,000                         | 1    | 4,000 ~ 8,000      |                                                                      |
| RS-485 종단저항 부품       | 120Ω 저항, 2핀 헤더+캡 또는 DIP 스위치                            | 60 ~ 250                              | 1    | 60 ~ 250           |                                                                      |
| 전원 스위치 소자(RS485)    | 소형 MOSFET 등                                                  | 100 ~ 300                             | 1    | 100 ~ 300          |                                                                      |
| 안테나                     | (Zigbee용 칩 안테나 또는 u.FL 커넥터 외장 안테나)               | 500 ~ 3,000                           | 1    | 500 ~ 3,000        |                                                                      |
| E-ink 디스플레이            | GDEM0154D67WT (1.54인치, 200x200)                             | 6,000 ~ 13,000                        | 1    | 6,000 ~ 13,000     |                                                                      |
| 배터리 홀더 (AA)           | ER14505용 AA 사이즈 홀더                                        | 500 ~ 1,000                           | 1    | 500 ~ 1,000        |                                                                      |
| ER14505 배터리             | 3.6V, 2400mAh                                                 | 3,000 ~ 7,000                         | 1    | 3,000 ~ 7,000      |                                                                      |
| USB Type-C 커넥터          | 표준 USB-C Receptacle                                         | 300 ~ 800                             | 1    | 300 ~ 800          |                                                                      |
| DC-DC/LDO 레귤레이터       | TPS630xx, MCP1700, MP1584EN 등                                  | 1,500 ~ 4,000                         | 1~3  | 1,500 ~ 8,000      | (USB-C 5V, Battery 3.6V, Ext DC 24V 처리용)                          |
| 배터리 보호회로 부품       | PTC, 다이오드 등                                                | 500 ~ 1,500                           | 일괄 | 500 ~ 1,500        |                                                                      |
| ESD/보호 부품 (USB, Ext DC) | TVS 다이오드 어레이 등                                          | 300 ~ 1,000                           | 일괄 | 300 ~ 1,000        |                                                                      |
| **8P 터미널 블록** | 스크류 타입 등                                                  | 500 ~ 1,200                           | 1    | 500 ~ 1,200        | (RS-485 및 외부전원용)                                               |
| 사용자 인터페이스          | Tactile Switch (4개), 슬라이드 스위치 (2P, 2P3T 각 1개), SMD LED x2~3 | 800 ~ 1,500                           | 일괄 | 800 ~ 1,500        | (버튼 및 스위치 단가 반영)                                               |
| 디버깅 포트 커넥터         | Micro USB 또는 4핀 JST 커넥터 (선택)                             | 100 ~ 500                             | 1    | 100 ~ 500          | (선택 사양)                                                            |
| **리셋 스위치** | **매립형 Tactile Switch** | **50 ~ 200** | **1** | **50 ~ 200** | (오작동 방지 구조)                                                      |
| 수동소자 및 기타           | (저항, 커패시터, 인덕터 등)                                       | -                                     | 일괄 | 2,500 ~ 5,000      |                                                                      |
| **통신팩 (Zigbee) 1대당 예상 부품 소계** |                                                               |                                       |      | **43,010 ~ 94,950**| (주 MCU 및 리셋 스위치 비용 추가 반영)                                   |

#### 10.2.3. 총 예상 부품 비용 (프로토타입 10세트 기준) - Zigbee 단일화 및 RS485 절연형/종단저항 반영

* **센서 스틱 + 통신팩 (Zigbee)**
    * 1세트당 부품 비용 (추정): (4,700 ~ 10,000) + (43,010 ~ 94,950) = **47,710 ~ 104,950 원**
    * **10세트 총 부품 비용 (추정): 477,100 ~ 1,049,500 원**

#### 10.2.4. 비용 추정에서 제외된 주요 항목
* PCB 제작 비용 (샘플 소량 제작 시 장당 수만원 ~ 수십만원 발생 가능, 각 유닛 PCB 각 10장씩)
* PCB 조립(SMT) 비용 (소량 프로토타입 조립은 수십만원 ~ 수백만원 발생 가능)
* 외함 및 마운트 3D 프린팅 또는 간이 금형/가공 비용
* 부품 및 PCB 해외/국내 배송료
* 관세 및 부가세 (해외 부품 수입 시)
* 개발 인건비 (내부 인력 또는 외부 용역)
* 소프트웨어 개발 비용 (임베디드 펌웨어 외 상위 애플리케이션 등)
* 개발 장비 및 계측기 구매/임차 비용
* 인증 비용 (KC, CE, FCC 등)
* 포장 및 기타 부자재 비용

### 10.3. 기타 참고 자료
* `[[시장 조사 상세 자료 링크]]`
* `[[경쟁 제품 분석표 링크]]`
* `[[SHT43 데이터시트]]`
* `[[Digi Xbee3 Pro Zigbee 3.0 데이터시트]]`
* `[[STM32G070CBT6 데이터시트]]`
* `[[GDEM0154D67WT E-ink Display 데이터시트]]`
* `[[TI ISOW1432DFMR 데이터시트]]`
* `[[SHT43 센서 모듈 (AliExpress 링크)]]`
* `[기타 관련 기술 문서 또는 표준 규격 링크]`

### 10.4. E-ink 디스플레이 화면 구성 및 설정 항목 상세 설명

본 부록은 통신팩의 E-ink 디스플레이를 통해 사용자가 확인하거나 설정할 수 있는 각 화면 페이지의 항목들에 대한 정의와 설명을 제공합니다. (버튼 조작은 3.2.2절 UI/UX 참조)

#### 페이지 1: 기본 정보 표시 화면 (메인 화면)
* **표시 정보 요약:** 장치의 현재 주요 상태 및 측정값을 간략히 보여주는 기본 화면입니다.
* **세부 표시 항목:**
    * **통신 ID:** 현재 활성화된 통신 방식(Zigbee/RS-485)의 네트워크상 식별자입니다. (예: Zigbee PAN ID/Short ID, RS485 Slave ID)
    * **송신(Tx) / 수신(Rx) 카운트:** 마지막 부팅 후 또는 특정 기간 동안의 데이터 송신(Tx) 및 수신(Rx) 횟수입니다. (표시 기준 명확화 필요)
    * **현재 온도:** 센서 스틱에서 측정한 현재 온도 값입니다. (예: `25.3 °C`, 소수점 자리수 설정 따름)
    * **현재 습도:** 센서 스틱에서 측정한 현재 상대습도 값입니다. (예: `55.8 %RH`, 소수점 자리수 설정 따름)
* **설정 가능 항목:** 없음 (정보 표시 전용)

#### 페이지 2: 알람 상태 화면
* **표시 정보 요약:** 설정된 임계값을 기준으로 온도, 습도 및 센서 자체의 알람 발생 현황을 보여줍니다.
* **세부 표시 항목:**
    * **온도 알람:** `[정상 / 낮음 경고 / 높음 경고 / 위험 (아이콘 또는 텍스트)]` (페이지 3에서 설정한 상/하한 값 기준)
    * **습도 알람:** `[정상 / 낮음 경고 / 높음 경고 / 위험 (아이콘 또는 텍스트)]` (페이지 4에서 설정한 상/하한 값 기준)
    * **센서 상태 알람:** `[정상 / 센서 스틱 연결 오류 / SHT43 센서 통신 오류 등]` 주요 하드웨어 및 센서부의 상태 이상 유무 표시.
* **설정 가능 항목:** 없음 (정보 표시 전용)

#### 페이지 3: 온도 설정 화면
* **표시 정보 요약:** 온도 측정값 보정 및 알람 발생 임계값을 사용자가 직접 설정합니다.
* **설정 항목 및 설명:**
    * **온도 보정 (옵셋):**
        * 설명: 센서 측정값에 대한 보정치(Offset)를 입력하여 표시되는 온도 값을 미세 조정합니다.
        * 선택/입력: `[예: -5.0 ~ +5.0 °C 범위 내에서 0.1 °C 단위로 조절]`
        * 영향: 여기에 설정된 값이 실제 측정된 온도 값에 더해져 화면에 표시되고 데이터로 전송됩니다.
    * **상한 온도 알람:**
        * 설명: 온도가 이 설정값 이상으로 올라가면 알람이 발생합니다.
        * 선택/입력: `[예: 제품 동작 온도 범위 내에서 0.1 °C 단위로 설정]`
        * 영향: 온도 알람 상태 표시에 영향을 주며, 설정 시 무선/유선으로 알람 이벤트 전송 가능.
    * **하한 온도 알람:**
        * 설명: 온도가 이 설정값 이하로 내려가면 알람이 발생합니다.
        * 선택/입력: `[예: 제품 동작 온도 범위 내에서 0.1 °C 단위로 설정]`
        * 영향: 온도 알람 상태 표시에 영향을 주며, 설정 시 무선/유선으로 알람 이벤트 전송 가능.

#### 페이지 4: 습도 설정 화면
* **표시 정보 요약:** 습도 측정값 보정 및 알람 발생 임계값을 사용자가 직접 설정합니다.
* **설정 항목 및 설명:**
    * **습도 보정 (옵셋):**
        * 설명: 센서 측정값에 대한 보정치(Offset)를 입력하여 표시되는 습도 값을 미세 조정합니다.
        * 선택/입력: `[예: -10.0 ~ +10.0 %RH 범위 내에서 0.1 %RH 단위로 조절]`
        * 영향: 여기에 설정된 값이 실제 측정된 습도 값에 더해져 화면에 표시되고 데이터로 전송됩니다.
    * **상한 습도 알람:**
        * 설명: 습도가 이 설정값 이상으로 올라가면 알람이 발생합니다.
        * 선택/입력: `[예: 0 ~ 100 %RH 범위 내에서 0.1 %RH 단위로 설정]`
        * 영향: 습도 알람 상태 표시에 영향을 주며, 설정 시 무선/유선으로 알람 이벤트 전송 가능.
    * **하한 습도 알람:**
        * 설명: 습도가 이 설정값 이하으로 내려가면 알람이 발생합니다.
        * 선택/입력: `[예: 0 ~ 100 %RH 범위 내에서 0.1 %RH 단위로 설정]`
        * 영향: 습도 알람 상태 표시에 영향을 주며, 설정 시 무선/유선으로 알람 이벤트 전송 가능.

#### 페이지 5: 센서 상세 설정 화면
* **표시 정보 요약:** 센서의 측정 및 표시 관련 세부 동작을 설정합니다.
* **설정 항목 및 설명:**
    * **온습도 측정 주기:**
        * 설명: 센서 스틱이 온습도 값을 실제로 측정하는 간격입니다. (데이터 로깅 또는 평균화에 사용될 수 있음)
        * 선택/입력: `[예: 1초 / 5초 / 10초 / 30초 / 1분 / 5분 / 10분 등 목록에서 선택]`
        * 영향: 측정 빈도에 따라 배터리 소모에 영향을 줄 수 있습니다. (보고 주기와는 별개일 수 있음)
    * **노점온도 표시:**
        * 설명: 측정된 온도와 습도를 바탕으로 계산된 노점온도를 화면에 표시할지 여부를 선택합니다.
        * 선택/입력: `[ON / OFF]`
        * 영향: 화면 표시 내용 변경.
    * **소수점 자리수 (온도):**
        * 설명: 온도 값을 표시할 때 소수점 이하 몇 자리까지 표시할지 선택합니다.
        * 선택/입력: `[1자리 (X.X) / 2자리 (X.XX)]`
        * 영향: 화면 표시 정밀도 변경.
    * **소수점 자리수 (습도):**
        * 설명: 습도 값을 표시할 때 소수점 이하 몇 자리까지 표시할지 선택합니다.
        * 선택/입력: `[1자리 (X.X) / 2자리 (X.XX)]`
        * 영향: 화면 표시 정밀도 변경.

#### 페이지 6: 디스플레이 설정 화면
* **표시 정보 요약:** E-ink 디스플레이의 동작 방식을 설정합니다.
* **설정 항목 및 설명:**
    * **화면 항상 표시(E-ink):**
        * 설명: E-ink는 전원 없이 마지막 화면 유지가 기본 특성입니다. 이 설정은 주기적인 화면 자동 Clear(백지화) 후 꺼짐 여부 또는 특정 조건(예: 버튼 누름)에서만 화면을 업데이트할지 등을 의미할 수 있습니다. `[구체적인 ON/OFF 동작 정의 필요]`
        * 선택/입력: `[ON (마지막 정보 유지) / OFF (지정 시간 후 화면 Clear 또는 절전형 업데이트)]`
    * **화면 업데이트 주기 (배터리 모드 시):**
        * 설명: 배터리 사용 시, E-ink 화면에 표시되는 온습도 및 기타 정보를 자동으로 새로고침하는 주기입니다.
        * 선택/입력: `[예: 1분 / 5분 / 10분 / 30분 / 1시간 / 버튼 누를 시에만 / 알람 발생 시에만]`
        * 영향: 배터리 소모에 직접적인 영향을 줍니다. 주기가 짧을수록 정보는 최신이지만 배터리는 빨리 소모됩니다.
    * **화면 선명도/업데이트 품질:**
        * 설명: E-ink 화면 업데이트 방식(파형)을 조절하여 선명도와 업데이트 속도 간의 균형을 맞춥니다. (일반적인 '대비 조절'과는 다름)
        * 선택/입력: `[일반 모드 (빠른 업데이트) / 고품질 모드 (선명한 화면, 느린 업데이트, 전체 새로고침 빈도 증가)]`
        * 영향: 고품질 모드는 잔상을 줄이고 화면을 깨끗하게 하지만, 업데이트 시간이 길어지고 전력 소모가 약간 더 클 수 있습니다.

#### 페이지 7: 날짜/시각 설정 화면
* **표시 정보 요약:** 장치의 내부 시계(RTC)에 사용될 날짜와 시각을 설정합니다. (데이터 로깅, 스케줄링 등에 활용)
* **설정 항목 및 설명:**
    * **현재 날짜 설정:** `YYYY-MM-DD` 형식으로 입력.
    * **현재 시각 설정:** `HH:MM:SS` 형식으로 입력.
    * **시간 동기화 방식 (지원 시):**
        * 설명: 날짜/시각을 자동으로 맞추는 방식을 선택합니다.
        * 선택/입력: `[수동 설정 / Zigbee 네트워크 시간 동기화 (지원 시)]`
        * 영향: 시간 정확도 유지.

#### 페이지 8: 알람 및 소리 설정 화면
* **표시 정보 요약:** 알람 발생 시 부가 동작 및 버튼음 등의 소리 설정을 합니다.
* **설정 항목 및 설명:**
    * **센서 알람 유지 시간:**
        * 설명: 온도/습도 알람 발생 시, 알람 상태가 화면이나 통신으로 얼마나 오랫동안 지속될지 설정합니다. (조건 해제 시 자동 복귀와 별개)
        * 선택/입력: `[조건 해제 시까지 / 10분 / 30분 / 1시간 후 자동 복귀 등]`
    * **버튼음:**
        * 설명: 버튼 조작 시 발생하는 피드백 소리(삑 소리 등)를 켜거나 끕니다.
        * 선택/입력: `[켜기 / 끄기]`
    * **알람 발생 시 비프음:**
        * 설명: 온도/습도/센서 알람 발생 시 경고음(부저음)을 울릴지 선택합니다.
        * 선택/입력: `[켜기 / 끄기]`
    * **비프음 전체 설정:**
        * 설명: 모든 종류의 비프음(버튼음, 알람음)을 한 번에 켜거나 끕니다.
        * 선택/입력: `[모두 켜기 / 모두 끄기]`
    * `[참고: 비프음(Buzzer) 기능 구현 시 하드웨어 BoM에 부저 부품 추가 필요]`

#### 페이지 9: 통신 설정 화면
* **표시 정보 요약:** 장치의 유무선 통신 방식을 설정하고 관련 파라미터를 구성합니다.
* **설정 항목 및 설명:**
    * **주 통신 방식 선택:** `[Zigbee / RS-485]` (**좌측면 물리 스위치로 설정, 화면에서는 현재 스위치 상태 표시 또는 스위치 설정 우선 적용**).
    * **RS-485 설정 (RS-485 회로 전원이 'ON'일 때 활성화):**
        * **RS-485 회로 전원:** `[켜기(ON) / 끄기(OFF)]` **(수동 선택, 출고 시 기본값: 끄기(OFF))**
        * **통신 국번 (Slave ID):** `[1 ~ 247 사이 값 입력]` (Modbus RTU 네트워크 주소)
        * **통신 속도 (Baud Rate):** `[9600 / 19200 / 38400 / 57600 / 115200 bps 등 목록에서 선택]`
        * **데이터/패리티/스톱 비트:** `[8N1 / 8E1 / 8O1 / 7E1 / 7O1 등 목록에서 선택]`
    * **Zigbee 설정 (주 통신 방식이 'Zigbee' 또는 게이트웨이 모드에서 Zigbee 사용 시 활성화):**
        * **PAN ID:** `[0x0000 - 0xFFFE]` (읽기 전용 또는 설정 가능)
        * **Channel:** `[11 ~ 26]` (읽기 전용 또는 설정 가능)
        * **Network Key (설정된 경우 마스킹 처리):** `[XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX]`
        * **Device Type:** `[Router / End Device]`
        * **TX Power Level:** `[제조사 모듈 지원 범위 내 설정 가능한 단계]`
        * **보고 주기 (Uplink Interval):** `[현재 설정값]` (Page 5 또는 별도 설정)
    * **사용자 인터랙션:** 상/하 키로 항목 이동 및 값 변경, 좌 키로 설정 저장/확인, 우 키로 이전 이동.

#### 페이지 10: 디버깅 메뉴 (정보 표시 전용)
* **표시 정보 요약:** 장치의 현재 상세 상태 및 내부 값, 버전 정보 등을 개발자 또는 고급 문제 해결 목적으로 보여줍니다.
* **세부 표시 항목 (읽기 전용):**
    * 현재 날짜/시각: `YYYY-MM-DD HH:MM:SS`
    * 온도 Raw/표시값: `[SHT43 Raw Data] / XX.X °C`
    * 습도 Raw/표시값: `[SHT43 Raw Data] / XX.X %RH`
    * 노점온도 계산값: `XX.X °C dp` (표시 설정 ON 시)
    * SHT43 고유번호: `[센서 IC 시리얼 번호]`
    * 센서 스틱 정보: `[스틱 타입/버전, 연결 상태]`
    * 통신 Tx/Rx 카운터: `[Zigbee 또는 RS-485 송수신 횟수]`
    * RS-485 설정 정보: `[ID, Baud, Params, 현재 전원 상태(ON/OFF)]`
    * **MCU 정보: STM32G070CBT6**
    * **Zigbee 모듈 정보**: `[모듈명, 신호강도(LQI/RSSI), 연결상태, 네트워크 정보 등]`
    * 디스플레이 설정값: `[화면 업데이트 주기, 선명도 모드 등 현재 설정된 값 요약]`
    * 펌웨어 버전: `통신팩: vX.XX / 센서스틱: vY.YY`
    * 배터리 전압 상세: `[xxxx mV]`
    * **스위치 상태**: `[통신 스위치: Zigbee/RS485, 전원 스위치: 24V/OFF/5V]`
* **사용자 인터랙션:** **페이지 1 (기본 정보 표시 화면)에서 (좌+우) 동시 누름을 통해서만 진입 가능. (좌+우) 동시 누름으로 디버깅 모드 종료 및 페이지 1로 복귀.**

---

### 10.5. 주요 부품 간 호환성 및 예상 주의점 검토

#### 10.5.1. 주 MCU (STM32G070CBT6)와 주변 부품 간 호환성

* **Digi Xbee3 Pro Zigbee 3.0 모듈과의 인터페이스:**
    * **호환성:** **높음.** STM32G070CBT6는 UART, SPI 등 다양한 통신 인터페이스를 지원하므로 Digi Xbee3 Pro 모듈과의 통신(일반적으로 UART 또는 SPI 사용)에 문제가 없을 것으로 예상됩니다. Digi Xbee 모듈은 AT 명령어 또는 API 모드로 제어 가능하며, STM32G0 시리즈는 이를 충분히 처리할 수 있는 성능을 가집니다.
    * **주의점/예상 문제점:**
        * **전압 레벨:** Xbee 모듈의 I/O 전압(일반적으로 3.3V)과 STM32G070CBT6의 I/O 전압이 일치하는지 확인해야 합니다. 대부분의 경우 3.3V로 호환되지만, 레벨 시프터가 필요한 경우가 발생할 수 있습니다.
        * **펌웨어 복잡도:** Zigbee 스택을 MCU 외부에서 모듈 형태로 처리하므로 MCU의 부담은 줄어들지만, 모듈 제어를 위한 AT 명령어 파싱 또는 API 라이브러리 통합, 데이터 처리 로직 구현에 주의가 필요합니다.
        * **전력 관리:** Xbee 모듈의 슬립 모드와 MCU의 저전력 모드 간의 동기화 및 제어가 중요합니다. 최적의 저전력 성능을 위해서는 양쪽의 전력 관리 기능을 효과적으로 연동해야 합니다.

* **E-ink 디스플레이 (GDEM0154D67WT - SPI 인터페이스):**
    * **호환성:** **높음.** STM32G070CBT6는 SPI 인터페이스를 충분히 지원하며, E-ink 디스플레이 제어에 필요한 메모리 및 처리 능력도 갖추고 있습니다.
    * **주의점/예상 문제점:**
        * **드라이버 및 라이브러리:** 해당 E-ink 모델(SSD1681 컨트롤러)에 맞는 드라이버 소프트웨어 및 그래픽 라이브러리를 확보하거나 개발해야 합니다. Sensirion의 기존 라이브러리 또는 오픈소스를 활용하거나, 직접 포팅/개발이 필요할 수 있습니다.
        * **업데이트 시간 및 전력:** E-ink는 화면 업데이트 시에만 전력을 소모하지만, 업데이트 과정 자체가 상대적으로 느리고(수 초) 특정 파형에 따라 순간적인 전류 소모가 있을 수 있습니다. 배터리 사용 시 화면 업데이트 빈도와 방식(전체/부분 업데이트)을 신중히 고려해야 합니다.

* **RS-485 트랜시버 (TI ISOW1432DFMR - UART 인터페이스):**
    * **호환성:** **높음.** STM32G070CBT6의 UART를 통해 RS-485 트랜시버를 제어하는 것은 표준적인 방식입니다. ISOW1432DFMR은 절연 기능이 내장되어 있어 외부 노이즈에 강한 통신을 기대할 수 있습니다.
    * **주의점/예상 문제점:**
        * **절연 전원:** ISOW1432DFMR과 같은 절연형 트랜시버는 일반적으로 양쪽에 격리된 전원이 필요합니다. 전원부 설계 시 이 점을 고려하여 안정적인 절연 전원 공급 회로를 구성해야 합니다.
        * **송수신 제어:** RS-485는 반이중 통신이므로, 데이터 송수신 방향 전환(RTS 핀 제어 등)을 위한 로직이 펌웨어에 정확히 구현되어야 합니다.
        * **소비 전력:** 절연형 트랜시버는 비절연형에 비해 소비 전력이 클 수 있습니다. RS-485 회로 전원 ON/OFF 제어 기능의 중요성이 더욱 커집니다.

* **센서 스틱 (SHT43 탑재 모듈 - I2C 통신 가정, USB-A를 통한 UART로 통신팩과 연결):**
    * **센서 스틱 내부 (SHT43 모듈 ↔ 센서 스틱 MCU):**
        * **호환성:** **높음.** SHT43 모듈이 I2C 인터페이스를 사용하고, 센서 스틱 내 초저전력 MCU가 I2C를 지원한다면 일반적인 구성입니다.
        * **주의점:** 센서 모듈의 I2C 주소, 통신 프로토콜, 데이터 포맷 등을 정확히 파악하고 펌웨어에 반영해야 합니다.
    * **센서 스틱 ↔ 통신팩 (STM32G070CBT6) (USB-A 커넥터의 D+/D- 핀 활용 UART 통신):**
        * **호환성:** **높음.** STM32G070CBT6는 UART를 지원하며, USB-A 커넥터의 데이터 라인을 UART TX/RX로 사용하는 것은 물리적 연결의 문제일 뿐 전기적으로는 표준 UART 통신입니다.
        * **주의점/예상 문제점:**
            * **전원 공급 및 제어:** 통신팩에서 센서 스틱으로 VBUS를 통해 전원을 공급하고, 필요시 이 전원을 제어하여 센서 스틱을 저전력 모드로 전환시키는 로직이 안정적으로 구현되어야 합니다.
            * **물리적 연결 안정성:** USB-A 커넥터의 반복적인 탈부착에도 견딜 수 있는 내구성과 안정적인 전기적 연결이 중요합니다.
            * **프로토콜 정의:** 센서 스틱과 통신팩 간의 UART 통신 프로토콜(데이터 패킷 구조, 명령어 등)을 명확히 정의하고 구현해야 합니다.

#### 10.5.2. 전원 시스템 (ER14505, USB-C 5V, 외부 DC 24V, 2P3T 스위치)

* **호환성:** **중간.** 다양한 전원 옵션을 제공하는 것은 유용하지만, 각 전원 간의 전환, 우선순위 결정, 보호 회로 설계가 복잡해질 수 있습니다.
* **주의점/예상 문제점:**
    * **전원 선택 로직:** 2P3T 슬라이드 스위치를 통한 수동 전원 선택과 외부 전원 자동 감지 및 우선순위 로직(예: 외부 전원 연결 시 배터리 차단) 간의 충돌 또는 오작동 가능성을 방지해야 합니다. 스위치 상태와 자동 감지 로직 간의 명확한 우선순위 및 동작 시나리오 정의가 필요합니다.
    * **역전류 및 과전압 보호:** 각 전원 입력 경로에 대한 역전류 방지 다이오드, 과전압 보호 회로(TVS 다이오드 등), 퓨즈 등이 필수적입니다. 특히 배터리와 외부 전원이 동시에 영향을 줄 수 있는 경로에 대한 보호가 중요합니다.
    * **전압 레귤레이션:** 다양한 입력 전압(3.6V 배터리, 5V USB-C, 9~36V 외부 DC)을 시스템 내부에서 사용하는 안정적인 전압(예: 3.3V)으로 변환하기 위한 DC-DC 컨버터 또는 LDO의 효율과 안정성이 중요합니다. 각 전원 경로에 따른 레귤레이터의 선택과 배치가 중요합니다.
    * **배터리 관리:** ER14505 (Li-SOCl2) 배터리는 비충전식이며, 방전 특성을 고려한 정확한 배터리 잔량 측정(연료 게이지 IC 사용 시) 또는 전압 기반의 저전력 경고 시스템 구현이 필요합니다.

#### 10.5.3. 기타 고려 사항

* **KC 인증:** Digi Xbee3 Pro Zigbee 모듈이 KC 인증을 받았더라도, 최종 제품(통신팩)은 RF 및 EMC에 대한 KC 인증을 별도로 획득해야 합니다. RS-485 인터페이스 또한 EMC 테스트 시 고려 대상입니다.
* **소프트웨어 복잡성:** 다양한 하드웨어(통신 모듈 2종, E-ink, 다중 전원, 스위치, 버튼)를 제어하고, 센서 데이터 처리, UI/UX 관리, 원격 설정, FOTA 등의 기능을 모두 안정적으로 구현하기 위해서는 펌웨어/소프트웨어 개발의 복잡도가 높을 수 있습니다. 체계적인 소프트웨어 아키텍처 설계와 충분한 테스트가 필요합니다.
* **부품 수급 및 단가 변동성:** 특히 Zigbee 모듈(Digi Xbee3 Pro), 절연형 RS-485 IC(TI ISOW1432DFMR), E-ink 디스플레이 등은 수급 상황이나 단가 변동 가능성이 있으므로, 양산 계획 시 이를 고려해야 합니다.
* **조립성 및 생산성:** 모듈형 구조, 다양한 외부 커넥터 및 스위치 배치 등은 PCB 설계 및 기구 설계 시 조립성과 생산성을 고려하여 최적화해야 합니다. 좌측면 디버깅 포트 및 스위치의 위치와 내부 PCB와의 연결 방식도 중요합니다.

> [!IMPORTANT] 핵심 설계 원칙
> * **초저전력 및 장기 사용:** ER14505 배터리의 장점을 극대화하기 위해 모든 하드웨어 및 펌웨어 설계 시 초저전력 소모(**통신팩 주 MCU(STM32G070CBT6)의 통합 제어 및 센서 스틱/RS-485 회로 전원 관리 최적화, 출고 시 RS-485 OFF 기본, 전원 선택 스위치 활용**)를 최우선으로 고려하여 배터리 교체 주기를 최대한 늘린다.
> * **모듈성 및 유연성:** **독립 MCU를 내장한 교체형 USB-A 타입 센서 스틱(다양한 센서로 시리즈 확장, 통신팩과 UART 통신)**과 통신팩의 분리/결합을 통해 다양한 설치 환경과 통신 요구에 유연하게 대응한다. **통신팩은 독립적인 프로토콜 중계기로서의 활용** 및 다양한 외부 전원 입력을 지원한다.
> * **신뢰성:** 산업 환경에서도 안정적으로 동작할 수 있도록 견고한 하드웨어 설계(특히 절연형 RS-485, 센서 스틱의 와류 방지 구조) 및 안정적인 펌웨어 구현을 목표로 한다.
> * **사용 편의성:** E-ink 디스플레이 정보 가독성, **4키(좌,우,상,하) 기반의 간편한 설정 방법(RS-485 전원 수동 제어, 특수 조합키 포함)**, 사용자 교체가 용이한 ER14505 배터리, USB-C를 통한 유연한 전원 공급, 마그네틱 마운트를 통한 간편한 설치 등 사용자 경험을 중시한다. **서버를 통한 원격 설정 기능을 제공하여 관리 편의성을 높인다.**

---
**참고 자료 목록:**
(이전 부록 10.3과 10.4는 본 문서의 내용과 통합되거나 맥락에 맞게 재배치되었습니다. 필요시 별도 문서로 관리할 수 있습니다.)

* `[[시장 조사 상세 자료 링크]]` (별도 문서)
* `[[경쟁 제품 분석표 링크]]` (별도 문서)
* `[[SHT43 데이터시트]]`
* `[[Digi Xbee3 Pro Zigbee 3.0 데이터시트]]`
* `[[STM32G070CBT6 데이터시트]]`
* `[[GDEM0154D67WT E-ink Display 데이터시트]]`
* `[[TI ISOW1432DFMR 데이터시트]]`
* `[[SHT43 센서 모듈 (AliExpress 링크)]]`
* `[기타 관련 기술 문서 또는 표준 규격 링크]`